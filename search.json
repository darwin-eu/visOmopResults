[{"path":"https://darwin-eu.github.io/visOmopResults/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"Apache License","title":"Apache License","text":"Version 2.0, January 2004 <http://www.apache.org/licenses/>","code":""},{"path":[]},{"path":"https://darwin-eu.github.io/visOmopResults/LICENSE.html","id":"id_1-definitions","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"1. Definitions","title":"Apache License","text":"“License” shall mean terms conditions use, reproduction, distribution defined Sections 1 9 document. “Licensor” shall mean copyright owner entity authorized copyright owner granting License. “Legal Entity” shall mean union acting entity entities control, controlled , common control entity. purposes definition, “control” means () power, direct indirect, cause direction management entity, whether contract otherwise, (ii) ownership fifty percent (50%) outstanding shares, (iii) beneficial ownership entity. “” (“”) shall mean individual Legal Entity exercising permissions granted License. “Source” form shall mean preferred form making modifications, including limited software source code, documentation source, configuration files. “Object” form shall mean form resulting mechanical transformation translation Source form, including limited compiled object code, generated documentation, conversions media types. “Work” shall mean work authorship, whether Source Object form, made available License, indicated copyright notice included attached work (example provided Appendix ). “Derivative Works” shall mean work, whether Source Object form, based (derived ) Work editorial revisions, annotations, elaborations, modifications represent, whole, original work authorship. purposes License, Derivative Works shall include works remain separable , merely link (bind name) interfaces , Work Derivative Works thereof. “Contribution” shall mean work authorship, including original version Work modifications additions Work Derivative Works thereof, intentionally submitted Licensor inclusion Work copyright owner individual Legal Entity authorized submit behalf copyright owner. purposes definition, “submitted” means form electronic, verbal, written communication sent Licensor representatives, including limited communication electronic mailing lists, source code control systems, issue tracking systems managed , behalf , Licensor purpose discussing improving Work, excluding communication conspicuously marked otherwise designated writing copyright owner “Contribution.” “Contributor” shall mean Licensor individual Legal Entity behalf Contribution received Licensor subsequently incorporated within Work.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/LICENSE.html","id":"id_2-grant-of-copyright-license","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"2. Grant of Copyright License","title":"Apache License","text":"Subject terms conditions License, Contributor hereby grants perpetual, worldwide, non-exclusive, -charge, royalty-free, irrevocable copyright license reproduce, prepare Derivative Works , publicly display, publicly perform, sublicense, distribute Work Derivative Works Source Object form.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/LICENSE.html","id":"id_3-grant-of-patent-license","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"3. Grant of Patent License","title":"Apache License","text":"Subject terms conditions License, Contributor hereby grants perpetual, worldwide, non-exclusive, -charge, royalty-free, irrevocable (except stated section) patent license make, made, use, offer sell, sell, import, otherwise transfer Work, license applies patent claims licensable Contributor necessarily infringed Contribution(s) alone combination Contribution(s) Work Contribution(s) submitted. institute patent litigation entity (including cross-claim counterclaim lawsuit) alleging Work Contribution incorporated within Work constitutes direct contributory patent infringement, patent licenses granted License Work shall terminate date litigation filed.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/LICENSE.html","id":"id_4-redistribution","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"4. Redistribution","title":"Apache License","text":"may reproduce distribute copies Work Derivative Works thereof medium, without modifications, Source Object form, provided meet following conditions: () must give recipients Work Derivative Works copy License; (b) must cause modified files carry prominent notices stating changed files; (c) must retain, Source form Derivative Works distribute, copyright, patent, trademark, attribution notices Source form Work, excluding notices pertain part Derivative Works; (d) Work includes “NOTICE” text file part distribution, Derivative Works distribute must include readable copy attribution notices contained within NOTICE file, excluding notices pertain part Derivative Works, least one following places: within NOTICE text file distributed part Derivative Works; within Source form documentation, provided along Derivative Works; , within display generated Derivative Works, wherever third-party notices normally appear. contents NOTICE file informational purposes modify License. may add attribution notices within Derivative Works distribute, alongside addendum NOTICE text Work, provided additional attribution notices construed modifying License. may add copyright statement modifications may provide additional different license terms conditions use, reproduction, distribution modifications, Derivative Works whole, provided use, reproduction, distribution Work otherwise complies conditions stated License.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/LICENSE.html","id":"id_5-submission-of-contributions","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"5. Submission of Contributions","title":"Apache License","text":"Unless explicitly state otherwise, Contribution intentionally submitted inclusion Work Licensor shall terms conditions License, without additional terms conditions. Notwithstanding , nothing herein shall supersede modify terms separate license agreement may executed Licensor regarding Contributions.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/LICENSE.html","id":"id_6-trademarks","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"6. Trademarks","title":"Apache License","text":"License grant permission use trade names, trademarks, service marks, product names Licensor, except required reasonable customary use describing origin Work reproducing content NOTICE file.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/LICENSE.html","id":"id_7-disclaimer-of-warranty","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"7. Disclaimer of Warranty","title":"Apache License","text":"Unless required applicable law agreed writing, Licensor provides Work (Contributor provides Contributions) “” BASIS, WITHOUT WARRANTIES CONDITIONS KIND, either express implied, including, without limitation, warranties conditions TITLE, NON-INFRINGEMENT, MERCHANTABILITY, FITNESS PARTICULAR PURPOSE. solely responsible determining appropriateness using redistributing Work assume risks associated exercise permissions License.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/LICENSE.html","id":"id_8-limitation-of-liability","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"8. Limitation of Liability","title":"Apache License","text":"event legal theory, whether tort (including negligence), contract, otherwise, unless required applicable law (deliberate grossly negligent acts) agreed writing, shall Contributor liable damages, including direct, indirect, special, incidental, consequential damages character arising result License use inability use Work (including limited damages loss goodwill, work stoppage, computer failure malfunction, commercial damages losses), even Contributor advised possibility damages.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/LICENSE.html","id":"id_9-accepting-warranty-or-additional-liability","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"9. Accepting Warranty or Additional Liability","title":"Apache License","text":"redistributing Work Derivative Works thereof, may choose offer, charge fee , acceptance support, warranty, indemnity, liability obligations /rights consistent License. However, accepting obligations, may act behalf sole responsibility, behalf Contributor, agree indemnify, defend, hold Contributor harmless liability incurred , claims asserted , Contributor reason accepting warranty additional liability. END TERMS CONDITIONS","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/LICENSE.html","id":"appendix-how-to-apply-the-apache-license-to-your-work","dir":"","previous_headings":"","what":"APPENDIX: How to apply the Apache License to your work","title":"Apache License","text":"apply Apache License work, attach following boilerplate notice, fields enclosed brackets [] replaced identifying information. (Don’t include brackets!) text enclosed appropriate comment syntax file format. also recommend file class name description purpose included “printed page” copyright notice easier identification within third-party archives.","code":"Copyright [yyyy] [name of copyright owner]  Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at    http://www.apache.org/licenses/LICENSE-2.0  Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License."},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a01_tables.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Tables","text":"visOmopResults package provides user-friendly tools creating well-formatted tables plots publication-ready. vignette, focus specifically table formatting functionalities. package supports four table formats: <tibble>, <gt>, <flextable>, <datatables>. <tibble> <data.frame> R object, <gt> <flextable> designed create publication-ready tables can exported different formats (e.g., PNG, Word, PDF, HTML), <datatables> display tables HTML pages. last three can used ShinyApps, RMarkdown, Quarto, . Although primary aim package simplify handling <summarised_result> class (see omopgenerics details), functionalities can applied <data.frame> certain requirements met.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a01_tables.html","id":"types-of-table-functions","dir":"Articles","previous_headings":"Introduction","what":"Types of Table Functions","title":"Tables","text":"two main categories table functions package: Main Table Functions: Comprehensive functions like visOmopTable() visTable() allow users fully format tables, including specifying headers, grouping columns, customising styles. Additional Table Formatting Functions: format function set provides granular control specific table elements, enabling advanced customisation beyond main functions. vignette guide usage functions.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a01_tables.html","id":"main-functions","dir":"Articles","previous_headings":"","what":"Main Functions","title":"Tables","text":"functions built top format functions, providing quick straightforward way format tables.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a01_tables.html","id":"vistable","dir":"Articles","previous_headings":"Main Functions","what":"visTable()","title":"Tables","text":"visTable() flexible function designed format <data.frame>. Let’s demonstrate usage dataset palmerpenguins package. can format data <gt> table using visTable() follows: use arguments estimateName header, <data.frame> must estimates arranged three columns: estimate_name, estimate_type, estimate_value. Let’s reshape example dataset accordingly demonstrate creating <flextable> object: Estimate name Species Adelie Gentoo Chinstrap Island Biscoe Torgersen Dream Biscoe Dream female Bill length - Bill depth (mm) 36.64 - 17.22 36.61 - 17.40 36.27 - 17.79 45.30 - 14.13 46.00 - 17.30 Flipper length (mm) 186.56 190.00 189.00 213.00 192.67 male Bill length - Bill depth (mm) 40.76 - 19.03 40.92 - 18.84 40.11 - 18.89 48.54 - 15.70 51.40 - 19.60 Flipper length (mm) 192.56 193.50 195.00 222.09 202.78","code":"library(visOmopResults) library(palmerpenguins) library(dplyr) library(tidyr) x <- penguins |>    filter(!is.na(sex) & year == 2008) |>    select(!\"body_mass_g\") |>   summarise(across(ends_with(\"mm\"), ~mean(.x)), .by = c(\"species\", \"island\", \"sex\")) head(x) #> # A tibble: 6 × 6 #>   species island    sex    bill_length_mm bill_depth_mm flipper_length_mm #>   <fct>   <fct>     <fct>           <dbl>         <dbl>             <dbl> #> 1 Adelie  Biscoe    female           36.6          17.2              187. #> 2 Adelie  Biscoe    male             40.8          19.0              193. #> 3 Adelie  Torgersen female           36.6          17.4              190  #> 4 Adelie  Torgersen male             40.9          18.8              194. #> 5 Adelie  Dream     female           36.3          17.8              189  #> 6 Adelie  Dream     male             40.1          18.9              195 visTable(   result = x,   groupColumn = c(\"sex\"),   rename = c(\"Bill length (mm)\" = \"bill_length_mm\",              \"Bill depth (mm)\" = \"bill_depth_mm\",              \"Flipper length (mm)\" = \"flipper_length_mm\"),   type = \"gt\",   hide = \"year\" ) # Transforming the dataset to include estimate columns x <- x |>   pivot_longer(     cols = ends_with(\"_mm\"),      names_to = \"estimate_name\",      values_to = \"estimate_value\"   ) |>   mutate(estimate_type = \"numeric\")  # Creating a formatted flextable visTable(   result = x,   estimateName = c(     \"Bill length - Bill depth (mm)\" = \"<bill_length_mm> - <bill_depth_mm>\",     \"Flipper length (mm)\" = \"<flipper_length_mm>\"   ),   header = c(\"species\", \"island\"),   groupColumn = \"sex\",   type = \"flextable\",   hide = c(\"year\", \"estimate_type\") )"},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a01_tables.html","id":"visomoptable","dir":"Articles","previous_headings":"Main Functions","what":"visOmopTable()","title":"Tables","text":"visOmopTable() extends functionality visTable() additional features tailored specifically handling <summarised_result> objects, making easier work standardized result formats. Let’s demonstrate visOmopTable() mock <summarised_result>: workflow quite similar visTable(), includes specific enhancements <summarised_result> objects: Automatic splitting: result object always processed using splitAll() function. Thereby, column names use arguments must based split result. settingsColumn argument: Use argument specify settings displayed main table. columns specified can also referenced arguments header, rename, groupColumn. header argument: accepts specific <summarised_result> inputs, addition typical usage visTable(). example, use “strata” header display variables strata_name, use “settings” show settings specified settingsColumns. Hidden columns: result_id estimate_type columns always hidden serve helper columns internal processes. Suppressed estimates: result object processed suppress(), obscured estimates can displayed default na value “<{minCellCount}” corresponding minimum count value used. can controlled using showMinCellCount argument. next example, visOmopTable() generates <gt> table displaying suppressed estimates (counts 1,000,000) specified minimum cell count.","code":"# Creating a mock summarised result result <- mockSummarisedResult() |>   filter(strata_name == \"age_group &&& sex\")  # Displaying the first few rows head(result) #> # A tibble: 6 × 13 #>   result_id cdm_name group_name  group_level strata_name       strata_level    #>       <int> <chr>    <chr>       <chr>       <chr>             <chr>           #> 1         1 mock     cohort_name cohort1     age_group &&& sex <40 &&& Male    #> 2         1 mock     cohort_name cohort1     age_group &&& sex >=40 &&& Male   #> 3         1 mock     cohort_name cohort1     age_group &&& sex <40 &&& Female  #> 4         1 mock     cohort_name cohort1     age_group &&& sex >=40 &&& Female #> 5         1 mock     cohort_name cohort2     age_group &&& sex <40 &&& Male    #> 6         1 mock     cohort_name cohort2     age_group &&& sex >=40 &&& Male   #> # ℹ 7 more variables: variable_name <chr>, variable_level <chr>, #> #   estimate_name <chr>, estimate_type <chr>, estimate_value <chr>, #> #   additional_name <chr>, additional_level <chr>  # Creating a formatted gt table visOmopTable(   result = result,   estimateName = c(     \"N%\" = \"<count> (<percentage>)\",     \"N\" = \"<count>\",     \"Mean (SD)\" = \"<mean> (<sd>)\"   ),   header = c(\"package_name\", \"age_group\"),   groupColumn = c(\"cohort_name\", \"sex\"),   settingsColumn = \"package_name\",   type = \"gt\" ) result |>   suppress(minCellCount = 1000000) |>   visOmopTable(     estimateName = c(       \"N%\" = \"<count> (<percentage>)\",       \"N\" = \"<count>\",       \"Mean (SD)\" = \"<mean> (<sd>)\"     ),     header = c(\"group\"),     groupColumn = c(\"strata\"),     hide = c(\"cdm_name\"),     showMinCellCount = TRUE,     type = \"reactable\"   )"},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a01_tables.html","id":"customise-tables","dir":"Articles","previous_headings":"Main Functions","what":"Customise tables","title":"Tables","text":"Tables displayed visOmopResults() follow default style, customisation possible style .options arguments. allow users modify various formatting aspects using options format functions (see format Functions section learn ).","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a01_tables.html","id":"style","dir":"Articles","previous_headings":"Main Functions > Customise tables","what":"Style","title":"Tables","text":"default, visOmopResults default style applied tables. moment, besides default style, package also supports “darwin” style. inspect code default styles different table types supported, can use tableStyleCode() function showed next. want tables use type style, use setGlobalTableOptions(). apply desired settings subsequent tables, unless specify different style specific function call.","code":"tableStyleCode(type = \"gt\", style = \"default\") #> list(header = list(gt::cell_fill(color = \"#c8c8c8\"), gt::cell_text(weight = \"bold\",  #>     align = \"center\")), header_name = list(gt::cell_fill(color = \"#d9d9d9\"),  #>     gt::cell_text(weight = \"bold\", align = \"center\")), header_level = list(gt::cell_fill(color = \"#e1e1e1\"),  #>     gt::cell_text(weight = \"bold\", align = \"center\")), column_name = list(gt::cell_text(weight = \"bold\",  #>     align = \"center\")), group_label = list(gt::cell_fill(color = \"#e9e9e9\"),  #>     gt::cell_text(weight = \"bold\")), title = list(gt::cell_text(weight = \"bold\",  #>     size = 15, align = \"center\")), subtitle = list(gt::cell_text(weight = \"bold\",  #>     size = 12, align = \"center\")), body = list())"},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a01_tables.html","id":"further-options","dir":"Articles","previous_headings":"Main Functions > Customise tables","what":"Further Options","title":"Tables","text":"main vis table functions built top specific formatting functions described next section. core table functions directly expose customization arguments signature. Instead, additional tweaks can made via .options argument. view full list customization options default values, use: mentioned, arguments originate specific formatting functions. table shows, argument, function belongs purpose:","code":"tableOptions() #> $decimals #>    integer percentage    numeric proportion  #>          0          2          2          2  #>  #> $decimalMark #> [1] \".\" #>  #> $bigMark #> [1] \",\" #>  #> $keepNotFormatted #> [1] TRUE #>  #> $useFormatOrder #> [1] TRUE #>  #> $delim #> [1] \"\\n\" #>  #> $includeHeaderName #> [1] TRUE #>  #> $includeHeaderKey #> [1] TRUE #>  #> $na #> [1] \"-\" #>  #> $title #> NULL #>  #> $subtitle #> NULL #>  #> $caption #> NULL #>  #> $groupAsColumn #> [1] FALSE #>  #> $groupOrder #> NULL #>  #> $merge #> [1] \"all_columns\""},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a01_tables.html","id":"formatting-functions","dir":"Articles","previous_headings":"","what":"Formatting Functions","title":"Tables","text":"format set functions can used pipeline transform format <data.frame> <summarised_result> object. , ’ll demonstrate utilize functions step--step manner.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a01_tables.html","id":"format-estimates","dir":"Articles","previous_headings":"Formatting Functions","what":"1) Format Estimates","title":"Tables","text":"formatEstimateName() formatEstimateValue() functions enable customise naming display estimates table. illustrate usage, ’ll continue result dataset. Let’s first take look estimates formatting applied:","code":"result |>    filterGroup(cohort_name == \"cohort1\") |>  # visOmopResult filter function   filterStrata(age_group == \"<40\", sex == \"Female\") |>  # visOmopResult filter function   select(variable_name, variable_level, estimate_name, estimate_type, estimate_value) #> # A tibble: 7 × 5 #>   variable_name   variable_level estimate_name estimate_type estimate_value   #>   <chr>           <chr>          <chr>         <chr>         <chr>            #> 1 number subjects NA             count         integer       9082078          #> 2 age             NA             mean          numeric       21.2142521282658 #> 3 age             NA             sd            numeric       4.11274429643527 #> 4 Medications     Amoxiciline    count         integer       51863            #> 5 Medications     Amoxiciline    percentage    percentage    89.2198335845023 #> 6 Medications     Ibuprofen      count         integer       87627            #> 7 Medications     Ibuprofen      percentage    percentage    73.1792511884123"},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a01_tables.html","id":"suppressed-estimates","dir":"Articles","previous_headings":"Formatting Functions > 1) Format Estimates","what":"1.1) Suppressed estimates","title":"Tables","text":"function formatMinCellCount() indicates estimates suppressed due minimum cell count specified study. Estimates suppressed using omopgenerics::suppress(), replaces estimate symbol “-”. reporting results, want distinguish suppressed estimates missing values (NA), formatMinCellCount() function can used follows:","code":"result <- result |> formatMinCellCount()"},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a01_tables.html","id":"estimate-values","dir":"Articles","previous_headings":"Formatting Functions > 1) Format Estimates","what":"1.2) Estimate values","title":"Tables","text":"formatEstimateValue() function allows specify number decimals different estimate_types estimate_names, well customise decimal thousand separators. Let’s see previous estimates updated afterwars: can see, estimates now reflect specified formatting rules.","code":"# Formatting estimate values result <- result |>   formatEstimateValue(     decimals = c(integer = 0, numeric = 4, percentage = 2),     decimalMark = \".\",     bigMark = \",\"   )  # Displaying the formatted subset result |>    filterGroup(cohort_name == \"cohort1\") |>     filterStrata(age_group == \"<40\", sex == \"Female\") |>    select(variable_name, variable_level, estimate_name, estimate_type, estimate_value) #> # A tibble: 7 × 5 #>   variable_name   variable_level estimate_name estimate_type estimate_value #>   <chr>           <chr>          <chr>         <chr>         <chr>          #> 1 number subjects NA             count         integer       9,082,078      #> 2 age             NA             mean          numeric       21.2143        #> 3 age             NA             sd            numeric       4.1127         #> 4 Medications     Amoxiciline    count         integer       51,863         #> 5 Medications     Amoxiciline    percentage    percentage    89.22          #> 6 Medications     Ibuprofen      count         integer       87,627         #> 7 Medications     Ibuprofen      percentage    percentage    73.18"},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a01_tables.html","id":"estimate-names","dir":"Articles","previous_headings":"Formatting Functions > 1) Format Estimates","what":"1.3) Estimate names","title":"Tables","text":"Next, format estimate names using formatEstimateName() function. function allows us combine counts percentages “N (%)”, among estimate combinations Now, estimate names displayed specified, “N (%)” counts percentages. keepNotFormatted argument ensures unformatted rows remain dataset, useFormatOrder allows control display order estimates.","code":"# Formatting estimate names result <- result |>    formatEstimateName(     estimateName = c(       \"N (%)\" = \"<count> (<percentage>%)\",        \"N\" = \"<count>\",       \"Mean (SD)\" = \"<mean> (<sd>)\"     ),     keepNotFormatted = TRUE,     useFormatOrder = FALSE   )  # Displaying the formatted subset with new estimate names result |>    filterGroup(cohort_name == \"cohort1\") |>     filterStrata(age_group == \"<40\", sex == \"Female\") |>    select(variable_name, variable_level, estimate_name, estimate_type, estimate_value) #> # A tibble: 4 × 5 #>   variable_name   variable_level estimate_name estimate_type estimate_value   #>   <chr>           <chr>          <chr>         <chr>         <chr>            #> 1 number subjects NA             N             character     9,082,078        #> 2 age             NA             Mean (SD)     character     21.2143 (4.1127) #> 3 Medications     Amoxiciline    N (%)         character     51,863 (89.22%)  #> 4 Medications     Ibuprofen      N (%)         character     87,627 (73.18%)"},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a01_tables.html","id":"format-header","dir":"Articles","previous_headings":"Formatting Functions","what":"2) Format Header","title":"Tables","text":"formatHeader() used create complex multi-level headers tables, making easy present grouped data clearly.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a01_tables.html","id":"header-levels","dir":"Articles","previous_headings":"Formatting Functions > 2) Format Header","what":"Header levels","title":"Tables","text":"3 different levels headers, identified following keys: header: Custom labels correspond column names table values. header_name: Labels derived column names. Can omitted includeHeaderName =  FALSE. header_level: Labels derived values within columns set header. keys, together delimiter header levels (delim) used formatTable() format style gt flextable tables. Let’s create multi-level header strata columns, including three keys. show column names transformed: table formatting, won’t include header_name labels. Let’s see looks exclude :","code":"result |>   mutate(across(c(\"strata_name\", \"strata_level\"), ~ gsub(\"&&&\", \"and\", .x))) |>   formatHeader(     header = c(\"Stratifications\", \"strata_name\", \"strata_level\"),     delim = \"\\n\",     includeHeaderName = TRUE,     includeHeaderKey = TRUE   ) |>    colnames() #>  [1] \"result_id\"                                                                                                                                    #>  [2] \"cdm_name\"                                                                                                                                     #>  [3] \"group_name\"                                                                                                                                   #>  [4] \"group_level\"                                                                                                                                  #>  [5] \"variable_name\"                                                                                                                                #>  [6] \"variable_level\"                                                                                                                               #>  [7] \"estimate_name\"                                                                                                                                #>  [8] \"estimate_type\"                                                                                                                                #>  [9] \"additional_name\"                                                                                                                              #> [10] \"additional_level\"                                                                                                                             #> [11] \"[header]Stratifications\\n[header_name]strata_name\\n[header_level]age_group and sex\\n[header_name]strata_level\\n[header_level]<40 and Male\"    #> [12] \"[header]Stratifications\\n[header_name]strata_name\\n[header_level]age_group and sex\\n[header_name]strata_level\\n[header_level]>=40 and Male\"   #> [13] \"[header]Stratifications\\n[header_name]strata_name\\n[header_level]age_group and sex\\n[header_name]strata_level\\n[header_level]<40 and Female\"  #> [14] \"[header]Stratifications\\n[header_name]strata_name\\n[header_level]age_group and sex\\n[header_name]strata_level\\n[header_level]>=40 and Female\" result <- result |>   mutate(across(c(\"strata_name\", \"strata_level\"), ~ gsub(\"&&&\", \"and\", .x))) |>   formatHeader(     header = c(\"Stratifications\", \"strata_name\", \"strata_level\"),     delim = \"\\n\",     includeHeaderName = FALSE,     includeHeaderKey = TRUE   )    colnames(result) #>  [1] \"result_id\"                                                                               #>  [2] \"cdm_name\"                                                                                #>  [3] \"group_name\"                                                                              #>  [4] \"group_level\"                                                                             #>  [5] \"variable_name\"                                                                           #>  [6] \"variable_level\"                                                                          #>  [7] \"estimate_name\"                                                                           #>  [8] \"estimate_type\"                                                                           #>  [9] \"additional_name\"                                                                         #> [10] \"additional_level\"                                                                        #> [11] \"[header]Stratifications\\n[header_level]age_group and sex\\n[header_level]<40 and Male\"    #> [12] \"[header]Stratifications\\n[header_level]age_group and sex\\n[header_level]>=40 and Male\"   #> [13] \"[header]Stratifications\\n[header_level]age_group and sex\\n[header_level]<40 and Female\"  #> [14] \"[header]Stratifications\\n[header_level]age_group and sex\\n[header_level]>=40 and Female\""},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a01_tables.html","id":"format-table","dir":"Articles","previous_headings":"Formatting Functions","what":"3) Format Table","title":"Tables","text":"formatTable() function final step formatting pipeline, formatted <data.frame> converted either <gt> <flextable>.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a01_tables.html","id":"prepare-data","dir":"Articles","previous_headings":"Formatting Functions > 3) Format Table","what":"Prepare data","title":"Tables","text":"using formatTable(), ’ll tidy <data.frame> splitting group additional name-level columns (see vignette tidying <summarised_result>), drop unwanted columns:","code":"result <- result |>   splitGroup() |>   splitAdditional() |>   select(!c(\"result_id\", \"estimate_type\", \"cdm_name\")) head(result) #> # A tibble: 6 × 8 #>   cohort_name variable_name  variable_level estimate_name [header]Stratificati…¹ #>   <chr>       <chr>          <chr>          <chr>         <chr>                  #> 1 cohort1     number subjec… NA             N             3,721,239              #> 2 cohort2     number subjec… NA             N             2,059,746              #> 3 cohort1     age            NA             Mean (SD)     77.7445 (1.0794)       #> 4 cohort2     age            NA             Mean (SD)     86.9691 (0.2333)       #> 5 cohort1     Medications    Amoxiciline    N (%)         9,947 (33.38%)         #> 6 cohort2     Medications    Amoxiciline    N (%)         65,087 (40.00%)        #> # ℹ abbreviated name: #> #   ¹​`[header]Stratifications\\n[header_level]age_group and sex\\n[header_level]<40 and Male` #> # ℹ 3 more variables: #> #   `[header]Stratifications\\n[header_level]age_group and sex\\n[header_level]>=40 and Male` <chr>, #> #   `[header]Stratifications\\n[header_level]age_group and sex\\n[header_level]<40 and Female` <chr>, #> #   `[header]Stratifications\\n[header_level]age_group and sex\\n[header_level]>=40 and Female` <chr>"},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a01_tables.html","id":"use-formattable","dir":"Articles","previous_headings":"Formatting Functions > 3) Format Table","what":"Use formatTable()","title":"Tables","text":"Now data cleaned organized, formatTable() can used create well-structured <gt>, <flextable>, datatable, `reactable`` objects. examples , used default style defined visOmopResults package (use tableStyle() see styles). However, ’s possible customise appearance different parts table better suit needs.","code":"result |>   formatTable(     type = \"gt\",     delim = \"\\n\",     style = \"default\",     na = \"-\",     title = \"My formatted table!\",     subtitle = \"Created with the `visOmopResults` R package.\",     caption = NULL,     groupColumn = \"cohort_name\",     groupAsColumn = FALSE,     groupOrder = c(\"cohort2\", \"cohort1\"),     merge = \"variable_name\"   )"},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a01_tables.html","id":"customising-table-styles","dir":"Articles","previous_headings":"Formatting Functions > 3) Format Table","what":"customising Table Styles","title":"Tables","text":"Let’s start applying custom style <gt> table: creating similarly styled <flextable>, office R package required access specific formatting functions. formatted table! Created `visOmopResults` R package. variable_name variable_level estimate_name Stratifications age_group sex <40 Male >=40 Male <40 Female >=40 Female cohort2 number subjects - N 2,059,746 1,765,568 6,870,228 3,841,037 age - Mean (SD) 86.9691 (0.2333) 34.0349 (4.7723) 48.2080 (7.3231) 59.9566 (6.9273) Medications Amoxiciline N (%) 65,087 (40.00%) 25,802 (32.54%) 47,855 (75.71%) 76,631 (20.27%)  Ibuprofen N (%) 65,472 (44.63%) 35,320 (64.01%) 27,026 (99.18%) 99,268 (49.56%) cohort1 number subjects - N 3,721,239 5,728,534 9,082,078 2,016,819 age - Mean (SD) 77.7445 (1.0794) 93.4705 (7.2371) 21.2143 (4.1127) 65.1674 (8.2095) Medications Amoxiciline N (%) 9,947 (33.38%) 31,627 (47.64%) 51,863 (89.22%) 66,201 (86.43%)  Ibuprofen N (%) 5,893 (59.88%) 64,229 (97.62%) 87,627 (73.18%) 77,891 (35.67%)","code":"result |>   formatTable(     type = \"gt\",     delim = \"\\n\",     style = list(       \"header\" = list(gt::cell_text(weight = \"bold\"),                        gt::cell_fill(color = \"orange\")),       \"header_level\" = list(gt::cell_text(weight = \"bold\"),                        gt::cell_fill(color = \"yellow\")),       \"column_name\" = gt::cell_text(weight = \"bold\"),       \"group_label\" = list(gt::cell_fill(color = \"blue\"),                            gt::cell_text(color = \"white\", weight = \"bold\")),       \"title\" = list(gt::cell_text(size = 20, weight = \"bold\")),       \"subtitle\" = list(gt::cell_text(size = 15)),       \"body\" = gt::cell_text(color = \"red\")     ),     na = \"-\",     title = \"My formatted table!\",     subtitle = \"Created with the `visOmopResults` R package.\",     caption = NULL,     groupColumn = \"cohort_name\",     groupAsColumn = FALSE,     groupOrder = c(\"cohort2\", \"cohort1\"),     merge = \"variable_name\"   ) result |>   formatTable(     type = \"flextable\",     delim = \"\\n\",     style = list(       \"header\" = list(         \"cell\" = officer::fp_cell(background.color = \"orange\"),         \"text\" = officer::fp_text(bold = TRUE)),       \"header_level\" = list(         \"cell\" = officer::fp_cell(background.color = \"yellow\"),         \"text\" = officer::fp_text(bold = TRUE)),       \"column_name\" = list(\"text\" = officer::fp_text(bold = TRUE)),       \"group_label\" = list(         \"cell\" = officer::fp_cell(background.color = \"blue\"),         \"text\" = officer::fp_text(bold = TRUE, color = \"white\")),       \"title\" = list(\"text\" = officer::fp_text(bold = TRUE, font.size = 20)),       \"subtitle\" = list(\"text\" = officer::fp_text(font.size = 15)),       \"body\" = list(\"text\" = officer::fp_text(color = \"red\"))     ),     na = \"-\",     title = \"My formatted table!\",     subtitle = \"Created with the `visOmopResults` R package.\",     caption = NULL,     groupColumn = \"cohort_name\",     groupAsColumn = FALSE,     groupOrder = c(\"cohort2\", \"cohort1\"),     merge = \"variable_name\"   )"},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a02_plots.html","id":"plotting-with-a-summarised_result","dir":"Articles","previous_headings":"","what":"Plotting with a <summarised_result>","title":"Plots","text":"vignette, use penguins dataset palmerpenguins package. dataset summarised using PatientProfiles::summariseResult() function, aggregates data <summarised_result> format:","code":"library(PatientProfiles) library(palmerpenguins) library(dplyr)  summariseIsland <- function(island) {   penguins |>     filter(.data$island == .env$island) |>     summariseResult(       group = \"species\",       includeOverallGroup = TRUE,       strata = list(\"year\", \"sex\", c(\"year\", \"sex\")),       variables = c(         \"bill_length_mm\", \"bill_depth_mm\", \"flipper_length_mm\", \"body_mass_g\",          \"sex\"),       estimates = c(         \"median\", \"q25\", \"q75\", \"min\", \"max\", \"count_missing\", \"count\",          \"percentage\", \"density\")     ) |>     suppressMessages() |>     mutate(cdm_name = island) }  penguinsSummary <- bind(   summariseIsland(\"Torgersen\"),    summariseIsland(\"Biscoe\"),    summariseIsland(\"Dream\") )  penguinsSummary |> glimpse() #> Rows: 429,296 #> Columns: 13 #> $ result_id        <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,… #> $ cdm_name         <chr> \"Torgersen\", \"Torgersen\", \"Torgersen\", \"Torgersen\", \"… #> $ group_name       <chr> \"overall\", \"overall\", \"overall\", \"overall\", \"overall\"… #> $ group_level      <chr> \"overall\", \"overall\", \"overall\", \"overall\", \"overall\"… #> $ strata_name      <chr> \"overall\", \"overall\", \"overall\", \"overall\", \"overall\"… #> $ strata_level     <chr> \"overall\", \"overall\", \"overall\", \"overall\", \"overall\"… #> $ variable_name    <chr> \"number records\", \"bill_length_mm\", \"bill_length_mm\",… #> $ variable_level   <chr> NA, NA, NA, NA, NA, NA, NA, \"density_001\", \"density_0… #> $ estimate_name    <chr> \"count\", \"median\", \"q25\", \"q75\", \"min\", \"max\", \"count… #> $ estimate_type    <chr> \"integer\", \"numeric\", \"numeric\", \"numeric\", \"numeric\"… #> $ estimate_value   <chr> \"52\", \"38.9\", \"36.65\", \"41.1\", \"33.5\", \"46\", \"1\", \"29… #> $ additional_name  <chr> \"overall\", \"overall\", \"overall\", \"overall\", \"overall\"… #> $ additional_level <chr> \"overall\", \"overall\", \"overall\", \"overall\", \"overall\"…"},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a02_plots.html","id":"plotting-principles-for-summarised_result-objects","dir":"Articles","previous_headings":"Plotting with a <summarised_result>","what":"Plotting principles for <summarised_result> objects","title":"Plots","text":"1) Tidy Format working <summarised_result> objects, data internally converted tidy format plotting. important distinction columns strata_name strata_level original <summarised_result> used directly plotting functions. Instead, tidy columns referenced. information tidy format, refer omopgenerics package vignette <summarised_result> . identify available tidy columns, use tidyColumns() function: 2) Subsetting Variables calling plotting functions, always subset <summarised_result> object variable interest. Avoid combining results unrelated variables, may lead NA values tidy format, can affect plots.","code":"tidyColumns(penguinsSummary) #>  [1] \"cdm_name\"       \"species\"        \"year\"           \"sex\"            #>  [5] \"variable_name\"  \"variable_level\" \"count\"          \"median\"         #>  [9] \"q25\"            \"q75\"            \"min\"            \"max\"            #> [13] \"count_missing\"  \"density_x\"      \"density_y\"      \"percentage\""},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a02_plots.html","id":"scatter-plot","dir":"Articles","previous_headings":"Plotting with a <summarised_result>","what":"Scatter plot","title":"Plots","text":"can create simple scatter plots using plotScatter() let’s see examples:  can use argument style update theme plot either visOmopResults default style, darwin style. darwin style, want use official “Calibri” font, need first package extrafont. can get package load font using function requireExtrafont.  Otherwise, style can applied afterwards function themeVisOmop. , returned plot can futher customised usual ggplot2 functionalities:","code":"penguinsSummary |>   filter(variable_name == \"bill_depth_mm\") |>   filterStrata(year != \"overall\", sex == \"overall\") |>   scatterPlot(     x = \"year\",      y = \"median\",     line = TRUE,      point = TRUE,     ribbon = FALSE,     facet = \"cdm_name\",     colour = \"species\"   ) penguinsSummary |>   filter(variable_name %in% c(\"bill_length_mm\", \"bill_depth_mm\"))|>   filterStrata(year == \"overall\", sex == \"overall\") |>   filterGroup(species != \"overall\") |>   scatterPlot(     x = \"density_x\",      y = \"density_y\",     line = TRUE,      point = FALSE,     ribbon = FALSE,     facet = cdm_name ~ variable_name,     colour = \"species\",     style = \"darwin\"   ) penguinsSummary |>   filter(variable_name == \"flipper_length_mm\") |>   filterStrata(year != \"overall\", sex %in% c(\"female\", \"male\")) |>   scatterPlot(     x = c(\"year\", \"sex\"),      y = \"median\",     ymin = \"q25\",     ymax = \"q75\",     line = FALSE,      point = TRUE,     ribbon = FALSE,     facet = cdm_name ~ species,     colour = \"sex\",     group = c(\"year\", \"sex\")   )  +   themeVisOmop(fontsizeRef = 13) +   ggplot2::coord_flip() +   ggplot2::labs(y = \"Flipper length (mm)\") +    ggplot2::theme(axis.text.x = ggplot2::element_text(angle = 90, vjust = 0.5, hjust=1)) penguinsSummary |>   filter(     variable_name %in% c(\"flipper_length_mm\", \"bill_length_mm\", \"bill_depth_mm\")   ) |>   filterStrata(sex == \"overall\") |>   scatterPlot(     x = \"year\",      y = \"median\",     ymin = \"min\",     ymax = \"max\",     line = FALSE,      point = TRUE,     ribbon = TRUE,     facet = cdm_name ~ species,     colour = \"variable_name\",     group = c(\"variable_name\")   ) +   themeVisOmop(style = \"darwin\", fontsizeRef = 12) +    ggplot2::theme(axis.text.x = ggplot2::element_text(angle = 90, vjust = 0.5, hjust=1))"},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a02_plots.html","id":"bar-plot","dir":"Articles","previous_headings":"Plotting with a <summarised_result>","what":"Bar plot","title":"Plots","text":"Let’s create bar plots:","code":"penguinsSummary |>   filter(variable_name == \"number records\") |>   filterGroup(species != \"overall\") |>   filterStrata(sex != \"overall\", year != \"overall\") |>   barPlot(     x = \"year\",     y = \"count\",     colour = \"sex\",     facet = cdm_name ~ species   ) +   themeVisOmop(fontsizeRef = 12)"},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a02_plots.html","id":"box-plot","dir":"Articles","previous_headings":"Plotting with a <summarised_result>","what":"Box plot","title":"Plots","text":"Let’s create box plots body mass:   Note didnt specify x levels x axis, box plots produced anyway.","code":"penguinsSummary |>   filter(variable_name == \"body_mass_g\") |>   boxPlot(x = \"year\", facet = species ~ cdm_name, colour = \"sex\", style = \"default\") penguinsSummary |>   filter(variable_name == \"body_mass_g\") |>   filterGroup(species != \"overall\") |>   filterStrata(sex %in% c(\"female\", \"male\"), year != \"overall\") |>   boxPlot(x = \"cdm_name\", facet = c(\"sex\", \"species\"), colour = \"year\") +   themeVisOmop(fontsizeRef = 11)"},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a02_plots.html","id":"plotting-style","dir":"Articles","previous_headings":"","what":"Plotting style","title":"Plots","text":"package provides support standard plot themes, can applied either plot creation using function themeVisOmop(), directly time creation via style argument. see available pre-defined styles use plotStyle(). creating multiple plots style, can use setGlobalPlotOptions() apply default style subsequent plots, unless different style specified specific function call.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a02_plots.html","id":"plotting-with-a-data-frame","dir":"Articles","previous_headings":"","what":"Plotting with a <data.frame>","title":"Plots","text":"Plotting functions can also used usual <data.frame>. case use tidy format penguinsSummary. Using tidy format, can replicate plots. instance, recreate previous example:","code":"penguinsTidy <- penguinsSummary |>   filter(!estimate_name %in% c(\"density_x\", \"density_y\")) |> # remove density for simplicity   tidy() penguinsTidy |> glimpse() #> Rows: 720 #> Columns: 14 #> $ cdm_name       <chr> \"Torgersen\", \"Torgersen\", \"Torgersen\", \"Torgersen\", \"To… #> $ species        <chr> \"overall\", \"overall\", \"overall\", \"overall\", \"overall\", … #> $ year           <chr> \"overall\", \"overall\", \"overall\", \"overall\", \"overall\", … #> $ sex            <chr> \"overall\", \"overall\", \"overall\", \"overall\", \"overall\", … #> $ variable_name  <chr> \"number records\", \"bill_length_mm\", \"bill_depth_mm\", \"f… #> $ variable_level <chr> NA, NA, NA, NA, NA, \"female\", \"male\", NA, NA, NA, NA, N… #> $ count          <int> 52, NA, NA, NA, NA, 24, 23, 5, 20, 16, 16, NA, NA, NA, … #> $ median         <int> NA, 38, 18, 191, 3700, NA, NA, NA, NA, NA, NA, 38, 38, … #> $ q25            <int> NA, 36, 17, 187, 3338, NA, NA, NA, NA, NA, NA, 37, 35, … #> $ q75            <int> NA, 41, 19, 195, 4000, NA, NA, NA, NA, NA, NA, 39, 41, … #> $ min            <int> NA, 33, 15, 176, 2900, NA, NA, NA, NA, NA, NA, 34, 33, … #> $ max            <int> NA, 46, 21, 210, 4700, NA, NA, NA, NA, NA, NA, 46, 45, … #> $ count_missing  <int> NA, 1, 1, 1, 1, NA, NA, NA, NA, NA, NA, 1, 0, 0, 1, 0, … #> $ percentage     <dbl> NA, NA, NA, NA, NA, 46.153846, 44.230769, 9.615385, NA,… penguinsTidy |>   filter(     variable_name == \"body_mass_g\",     species != \"overall\",     sex %in% c(\"female\", \"male\"),     year != \"overall\"   ) |>   boxPlot(x = \"cdm_name\", facet = sex ~ species, colour = \"year\", style = \"darwin\")"},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a02_plots.html","id":"custom-plotting","dir":"Articles","previous_headings":"","what":"Custom plotting","title":"Plots","text":"tidy format useful apply custom ggplot2 function may interested :","code":"library(ggplot2) penguinsSummary |>   filter(variable_name == \"number records\") |>   tidy() |>   ggplot(aes(x = year, y = sex, fill = count, label = count)) +   themeVisOmop() +   geom_tile() +   scale_fill_viridis_c(trans = \"log\") +    geom_text() +   facet_grid(cdm_name ~ species) +    ggplot2::theme(axis.text.x = ggplot2::element_text(angle = 90, vjust = 0.5, hjust=1))"},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a02_plots.html","id":"combine-with-ggplot2","dir":"Articles","previous_headings":"","what":"Combine with ggplot2","title":"Plots","text":"plotting functions wrapper around ggplot2 package, outputs plotting functions can later customised ggplot2 similar tools. example can use ggplot2::labs() change labels ggplot2::theme() move location legend.  can also use ggplot2::ggsave() later save one plots ‘.png’ file.","code":"penguinsSummary |>   filter(     group_level != \"overall\",     strata_name == \"year &&& sex\",     !grepl(\"NA\", strata_level),     variable_name == \"body_mass_g\") |>   boxPlot(x = \"species\", facet = cdm_name ~ sex, colour = \"year\") +   themeVisOmop(fontsizeRef = 12) +   ylim(c(0, 6500)) +   labs(x = \"My custom x label\") ggsave(   \"figure8.png\", plot = last_plot(), device = \"png\", width = 15, height = 12,    units = \"cm\", dpi = 300)"},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a02_plots.html","id":"combine-with-plotly","dir":"Articles","previous_headings":"","what":"Combine with plotly","title":"Plots","text":"make plot interactive, package can convernt ggplots <plotly> changing plot type argument","code":"penguinsSummary |>   filter(     group_level != \"overall\",     strata_name == \"year &&& sex\",     !grepl(\"NA\", strata_level),     variable_name == \"body_mass_g\") |>   boxPlot(x = \"species\", facet = cdm_name ~ sex, colour = \"year\", type = \"plotly\") +   ylim(c(0, 6500)) +   labs(x = \"My custom x label\")"},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a03_quarto_reports.html","id":"quarto-document-settings","dir":"Articles","previous_headings":"","what":"Quarto document settings","title":"Quarto reports","text":"header Quarto document, can set title identify study document. Additionally, can point Word document containing template styles DARWIN reports. DOCX template can found , together Quarto script used generate report. Quarto header producing Word report might look like : Next, use first R chunk load packages, load data, set options/variables used across script. results use obtained mock data created IncidencePrevalence CohortCharacteristics packages, stored [inst](https://github.com/darwin-eu/visOmopResults/tree/main/inst) folder packge. tables choose \"flextable\" type transfers best Word documents. function requireExtrafont() installs (needed) extrafont package loads Calibri font use ggplot2 using DARWIN style.","code":"--- title: \"DARWIN-EU PX-CY-Z: Tables and Figures\" format:   docx:     reference-doc: inst/darwinReportRef.docx     fig-cap-location: top execute:   echo: false   message: false   warning: false lof: true --- # Load necessary packages ---- library(visOmopResults) library(IncidencePrevalence) library(CohortCharacteristics) library(dplyr) library(tidyr) library(ggplot2)  # Load mock results stored in the package ---- data <- visOmopResults::data  # Global options ---- knitr::opts_chunk$set(   out.width  = \"95%\",  # figures occupy ~95% of document width   out.height = \"auto\",   dpi        = 320,    # ensure figure quality   fig.width  = 6,      # default aspect ratio (can be overridden per-figure)   fig.height = 3,   results    = \"asis\"  # enable Markdown produced via cat() inside chunks )  # DARWIN style for visOmopResults plots and tables. style <- \"darwin\" tableType <- \"flextable\" plotType  <- \"ggplot\" setGlobalPlotOptions(style = style, type = plotType)  setGlobalTableOptions(style = style, type = tableType)  # Calibri font in ggplot figures (requires the extrafont package to be available) requireExtrafont()"},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a03_quarto_reports.html","id":"characterisation-results","dir":"Articles","previous_headings":"","what":"Characterisation results","title":"Quarto reports","text":"report starts table showing baseline characteristics denominator cohort mock study. Variable name Variable level Estimate name Sex overall Female Male Number records - N 2,564 1,302 1,262 Number subjects - N 2,564 1,302 1,262 Cohort start date - Median [Q25 - Q75] 2008-01-01 [2008-01-01 - 2008-01-01] 2008-01-01 [2008-01-01 - 2008-01-01] 2008-01-01 [2008-01-01 - 2008-01-01]   Range 2008-01-01 2008-01-01 2008-01-01 2008-01-01 2008-01-01 2008-01-01 Cohort end date - Median [Q25 - Q75] 2018-01-01 [2018-01-01 - 2018-01-01] 2018-01-01 [2018-01-01 - 2018-01-01] 2018-01-01 [2018-01-01 - 2018-01-01]   Range 2008-01-17 2018-01-01 2008-01-17 2018-01-01 2009-03-24 2018-01-01 Age - Median [Q25 - Q75] 46 [36 - 56] 45 [36 - 55] 46 [37 - 56]   Mean (SD) 47.54 (14.81) 47.52 (15.21) 47.57 (14.40)   Range 21 99 21 99 21 98 Prior observation - Median [Q25 - Q75] 16,834 [13,477 - 20,588] 16,734 [13,320 - 20,410] 16,932 [13,636 - 20,634]   Mean (SD) 17,545.28 (5,406.72) 17,535.78 (5,551.58) 17,555.07 (5,255.26)   Range 7,729 36,260 7,929 36,260 7,729 36,115 Future observation - Median [Q25 - Q75] 4,010 [3,891 - 4,117] 4,018 [3,900 - 4,118] 4,005 [3,878 - 4,116]   Mean (SD) 3,924.53 (418.47) 3,937.65 (405.74) 3,910.98 (430.96)   Range 16 4,201 16 4,199 448 4,201 Days cohort - Median [Q25 - Q75] 3,654 [3,654 - 3,654] 3,654 [3,654 - 3,654] 3,654 [3,654 - 3,654]   Mean (SD) 3,594.61 (332.90) 3,601.79 (324.60) 3,587.20 (341.22)   Range 17 3,654 17 3,654 449 3,654 Comorbidities flag -inf 0 Hiv N (%) 475 (18.53%) 245 (18.82%) 230 (18.23%)  Depression N (%) 2,531 (98.71%) 1,285 (98.69%) 1,246 (98.73%)  Asthma N (%) 1,234 (48.13%) 623 (47.85%) 611 (48.42%) Comedications flag -180 0 Antidiabetes N (%) 26 (1.01%) 11 (0.84%) 15 (1.19%)  Opioids N (%) 49 (1.91%) 27 (2.07%) 22 (1.74%) default order variable names provided tableCharacteristics() match study requirements, can create customised table package. Variable name Variable level Estimate name Sex overall Male Female Number records - N 2,564 1,262 1,302 Number subjects - N 2,564 1,262 1,302 Age - Median [Q25 - Q75] 46 [36 - 56] 46 [37 - 56] 45 [36 - 55]   Mean (SD) 47.54 (14.81) 47.57 (14.40) 47.52 (15.21)   Range 21 99 21 98 21 99 Days cohort - Median [Q25 - Q75] 3,654 [3,654 - 3,654] 3,654 [3,654 - 3,654] 3,654 [3,654 - 3,654]   Mean (SD) 3,594.61 (332.90) 3,587.20 (341.22) 3,601.79 (324.60)   Range 17 3,654 449 3,654 17 3,654 Prior observation - Median [Q25 - Q75] 16,834 [13,477 - 20,588] 16,932 [13,636 - 20,634] 16,734 [13,320 - 20,410]   Mean (SD) 17,545.28 (5,406.72) 17,555.07 (5,255.26) 17,535.78 (5,551.58)   Range 7,729 36,260 7,729 36,115 7,929 36,260 Future observation - Median [Q25 - Q75] 4,010 [3,891 - 4,117] 4,005 [3,878 - 4,116] 4,018 [3,900 - 4,118]   Mean (SD) 3,924.53 (418.47) 3,910.98 (430.96) 3,937.65 (405.74)   Range 16 4,201 448 4,201 16 4,199 Cohort start date - Median [Q25 - Q75] 2008-01-01 [2008-01-01 - 2008-01-01] 2008-01-01 [2008-01-01 - 2008-01-01] 2008-01-01 [2008-01-01 - 2008-01-01]   Range 2008-01-01 2008-01-01 2008-01-01 2008-01-01 2008-01-01 2008-01-01 Cohort end date - Median [Q25 - Q75] 2018-01-01 [2018-01-01 - 2018-01-01] 2018-01-01 [2018-01-01 - 2018-01-01] 2018-01-01 [2018-01-01 - 2018-01-01]   Range 2008-01-17 2018-01-01 2009-03-24 2018-01-01 2008-01-17 2018-01-01 Comedications Opioids N (%) 49 (1.91%) 22 (1.74%) 27 (2.07%)  Antidiabetes N (%) 26 (1.01%) 15 (1.19%) 11 (0.84%) Comorbidities Asthma N (%) 1,234 (48.13%) 611 (48.42%) 623 (47.85%)  Depression N (%) 2,531 (98.71%) 1,246 (98.73%) 1,285 (98.69%)  HIV N (%) 475 (18.53%) 230 (18.23%) 245 (18.82%) Additionally, can show number people overall cohort stratified sex. use CohortCharacteristics plotting function apply DARWIN style rotate axis labels.","code":"data$summarised_characteristics |>   dplyr::filter(variable_name != \"Sex\") |>   tableCharacteristics(     header = c(\"sex\"),     hide   = c(\"cdm_name\", \"cohort_name\", \"table_name\"),     type   = tableType,     .options = list(style = style)   ) data$summarised_characteristics |>   dplyr::filter(variable_name != \"Sex\") |>   dplyr::mutate(     variable_name = customiseText(       variable_name,        custom = c(         \"Comorbidities\"  = \"Comorbidities flag -inf to 0\",          \"Comedications\"  = \"Comedications flag -180 to 0\"       )     ),     variable_level = customiseText(       variable_level,        custom = c(\"HIV\" = \"Hiv\")     )   ) |>   visOmopTable(     header = c(\"sex\"),     estimateName = c(       \"N (%)\"               = \"<count> (<percentage>%)\",       \"N\"                   = \"<count>\",       \"Median [Q25 - Q75]\"  = \"<median> [<q25> - <q75>]\",       \"Mean (SD)\"           = \"<mean> (<sd>)\",       \"Range\"               = \"<min> to <max>\"     ),     factor = list(       \"sex\" = c(\"overall\", \"Male\", \"Female\"),       \"variable_name\" = c(         \"Number records\", \"Number subjects\", \"Age\", \"Days in cohort\", \"Prior observation\",         \"Future observation\", \"Cohort start date\", \"Cohort end date\",         \"Comedications\", \"Comorbidities\"       ),       \"variable_level\" = c(NA, \"Asthma\", \"Depression\", \"HIV\", \"Opioids\", \"Antidiabetes\")     ),     hide = c(\"cdm_name\", \"cohort_name\")   ) data$summarised_characteristics |>   dplyr::filter(variable_name %in% c(\"Number records\")) |>   plotCharacteristics(colour = \"sex\") +   themeVisOmop(style = style) +   coord_flip()"},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a03_quarto_reports.html","id":"incidence-results","dir":"Articles","previous_headings":"","what":"Incidence results","title":"Quarto reports","text":"incidence results, want plot incidence time sex group. can plotting functions IncidencePrevalence. add \"darwin\" style rotate x-axis labels readability.","code":"data$incidence |>   dplyr::filter(strata_name == \"sex\") |>   plotIncidence(colour = \"sex\", facet = \"sex\", ribbon = TRUE) +   themeVisOmop(style = style) +   theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust = 1))"},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a03_quarto_reports.html","id":"additional-results","dir":"Articles","previous_headings":"","what":"Additional results","title":"Quarto reports","text":"Sometimes study includes analysis yet supported OMOP Tidy R packages. case, might might convert result summarised_result, either way, package-specific table plot function. cases, can use visOmopResults create styled tables plots match rest report. example, mock results measurement change intervention. tibble looks like : First, display results table. pivot standard columns estimate_name, estimate_type, estimate_value; lets us format estimates use header argument visTable() function. Variable Estimate Sex Overall Male Female Value Median [Q25 - Q75] 60.00 [55.00 - 77.25] 65.00 [61.00 - 80.00] 53.00 [48.00 - 59.00]  Range 24.00 117.00 30.00 120.00 20.00 100.00 Value Median [Q25 - Q75] 58.00 [55.00 - 72.00] 66.00 [62.00 - 79.00] 50.00 [47.00 - 60.00]  Range 22.00 108.00 33.00 117.00 19.00 100.00 Change value Median [Q25 - Q75] -2.00 [0.00 - -5.25] 1.00 [1.00 - -1.00] -3.00 [-1.00 - 1.00]  Range -2.00 -9.00 3.00 -3.00 -1.00 0.00 Additionally, can visualise values boxplot:  Note specify type style visOmopResults functions set globally beginning document.","code":"data$measurement_change #> # A tibble: 9 × 8 #>   cohort_name sex     variable_name   median   min   max   q25   q75 #>   <chr>       <chr>   <chr>            <dbl> <dbl> <dbl> <dbl> <dbl> #> 1 denominator overall value_before        60    24   117    55 77.2  #> 2 denominator overall value_after         58    22   108    55 72    #> 3 denominator overall change_in_value     -2    -2    -9     0 -5.25 #> 4 denominator male    value_before        65    30   120    61 80    #> 5 denominator male    value_after         66    33   117    62 79    #> 6 denominator male    change_in_value      1     3    -3     1 -1    #> 7 denominator female  value_before        53    20   100    48 59    #> 8 denominator female  value_after         50    19   100    47 60    #> 9 denominator female  change_in_value     -3    -1     0    -1  1 data$measurement_change |>    tidyr::pivot_longer(     cols      = c(\"median\", \"min\", \"max\", \"q25\", \"q75\"),     names_to  = \"estimate_name\",     values_to = \"estimate_value\"   ) |>   dplyr::mutate(     estimate_type = \"numeric\",     estimate_value = as.character(estimate_value),     variable_name  = customiseText(variable_name),     sex            = customiseText(sex)   ) |>   visTable(     header = \"sex\",     estimateName = c(       \"Median [Q25 - Q75]\" = \"<median> [<q25> - <q75>]\",       \"Range\"              = \"<min> to <max>\"     ),     hide   = c(\"cohort_name\", \"estimate_type\"),     rename = c(\"Estimate\" = \"estimate_name\", \"Variable\" = \"variable_name\")   ) data$measurement_change |>     dplyr::filter(variable_name %in% c(\"value_before\", \"value_after\")) |>   dplyr::mutate(     variable_name = customiseText(variable_name),     sex           = customiseText(sex)   ) |>   boxPlot(x = \"variable_name\", facet = \"sex\", colour = \"variable_name\") +   theme(axis.text.x = element_blank(), axis.ticks.x = element_blank()) +   xlab(\"\")"},{"path":[]},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a03_quarto_reports.html","id":"in-markdown","dir":"Articles","previous_headings":"Captions and footers","what":"In Markdown","title":"Quarto reports","text":"reference Word document, styles defined figure legends (CaptionDarwin) footers (FooterDarwin). can used Quarto follows:","code":":::{custom-style=\"CaptionDarwin\"} **Table 1:** Baseline population characteristics. :::"},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a03_quarto_reports.html","id":"in-an-r-code-chunk","dir":"Articles","previous_headings":"Captions and footers","what":"In an R code chunk","title":"Quarto reports","text":"might want create captions footers inside R code chunk (e.g., generating multiple tables/figures loop, programmatically numbering ). cases, can use cat() within chunk: ’s important use chunk option results = 'asis' content produced cat() correctly interpreted Quarto/Pandoc Markdown.","code":"num_table <- 1 cat(paste0(   ':::{custom-style=\"CaptionDarwin\"}\\n',   '**Table ', num_table, ':** Baseline population characteristics.\\n',   ':::\\n' )) num_table <- num_table + 1"},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a03_quarto_reports.html","id":"report-example","dir":"Articles","previous_headings":"","what":"Report example","title":"Quarto reports","text":"can access example Quarto script reference DOCX document .","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a04_shiny_apps.html","id":"set-up","dir":"Articles","previous_headings":"","what":"Set up","title":"Shiny Apps","text":"Load packages mock data.","code":"library(shiny) library(bslib) library(sortable) library(shinyWidgets) library(gt) library(DT) library(reactable) library(plotly) library(dplyr) library(visOmopResults) library(IncidencePrevalence) library(CohortCharacteristics) library(shinycssloaders)  # Mock results in visOmopResults data <- visOmopResults::data  # Remove global options (just in case we have them from previous work) setGlobalPlotOptions(style = NULL, type = NULL) setGlobalTableOptions(style = NULL, type = NULL)"},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a04_shiny_apps.html","id":"mock-data","dir":"Articles","previous_headings":"Set up","what":"Mock data","title":"Shiny Apps","text":"use 3 different mock results, : Baseline characteristics CohortCharacteristics package Incidence results IncidencePrevalence package Large scale characterisation, <summarised_result>","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a04_shiny_apps.html","id":"shiny-app-user-inteface","dir":"Articles","previous_headings":"","what":"Shiny App: User Inteface","title":"Shiny Apps","text":"Shiny app three panels, one result. allow filtering sex strata provide panel-specific visualization options: - Baseline characteristics: shows gt table controls headers, groups, hidden columns.. - Large Scale characteristics: renders datatable reactable, options group hide columns. - Incidence: displays static ggplot interactive plotly plot, options colouring, faceting, ribbons.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a04_shiny_apps.html","id":"example-ui-code","dir":"Articles","previous_headings":"Shiny App: User Inteface","what":"Example UI Code","title":"Shiny Apps","text":"","code":"ui <- bslib::page_navbar(   title = \"visOmopResults for Shiny\",   window_title = \"visOmopResults • Shiny\",   collapsible = TRUE,   # Baseline Characteristics (GT table)   bslib::nav_panel(     title = \"Baseline Characteristics\",     icon = icon(\"users-gear\"),     bslib::layout_sidebar(       sidebar = bslib::sidebar(         title = \"Filters\",         shinyWidgets::pickerInput(           inputId = \"summarise_characteristics_sex\",           label = \"Sex\",           choices = c(\"overall\", \"Male\", \"Female\"),           selected = \"overall\",           multiple = TRUE         ),         width = 320,         position = \"left\",         open = TRUE       ),       bslib::card(         full_screen = TRUE,         bslib::card_header(\"Table layout\"),         bslib::layout_sidebar(           sidebar = bslib::sidebar(             title = \"Arrange columns\",             sortable::bucket_list(               header = NULL,               group_name = \"col-buckets\",               orientation = \"horizontal\",               add_rank_list(                 text = \"None\",                 labels = c(\"variable_name\", \"variable_level\", \"estimate_name\"),                 input_id = \"summarise_characteristics_table_none\"               ),               add_rank_list(                 text = \"Header\",                 labels = c(\"sex\"),                 input_id = \"summarise_characteristics_table_header\"               ),               add_rank_list(                 text = \"Group columns\",                 labels = c(\"cdm_name\", \"cohort_name\"),                 input_id = \"summarise_characteristics_table_group_column\"               ),               add_rank_list(                 text = \"Hide\",                 labels = \"table_name\",                 input_id = \"summarise_characteristics_table_hide\"               )             ),             position = \"right\",             width = 400,             open = FALSE           ),           # GT output           gt::gt_output(\"summarise_characteristics_table\") |>             shinycssloaders::withSpinner(type = 4)         )       )     )   ),   # Large Scale Characterisation (DT / reactable)   bslib::nav_panel(     title = \"Large Scale Characterisation\",     icon = icon(\"table\"),     bslib::layout_sidebar(       sidebar = bslib::sidebar(         # title = \"Display options\",         shinyWidgets::pickerInput(           inputId = \"large_scale_sex\",           label = \"Sex\",           choices = c(\"overall\", \"Male\", \"Female\"),           selected = \"overall\",           multiple = TRUE         ),         radioButtons(           \"large_engine\",           \"Renderer\",           choices = c(\"DT\", \"reactable\"),           inline = TRUE         ),         sortable::bucket_list(           header = NULL,           group_name = \"col-buckets\",           orientation = \"horizontal\",           add_rank_list(             text = \"None\",             labels = c(\"variable_name\", \"variable_level\", \"estimate_name\"),             input_id = \"large_scale_none\"           ),           add_rank_list(             text = \"Group columns\",             labels = c(\"cdm_name\", \"cohort_name\"),             input_id = \"large_scale_group_column\"           ),           add_rank_list(             text = \"Hide\",             labels = character(),             input_id = \"large_scale_hide\"           )         ),         width = 320       ),       bslib::card(         full_screen = TRUE,         bslib::card_header(\"Cohort characteristics (large-scale)\"),         conditionalPanel(           \"input.large_engine == 'DT'\",           DTOutput(\"large_dt\") |> shinycssloaders::withSpinner(type = 4)         ),         conditionalPanel(           \"input.large_engine == 'reactable'\",           reactableOutput(\"large_reactable\") |> shinycssloaders::withSpinner(type = 4)         )       )     )   ),   # Incidence (ggplot → plotly)   bslib::nav_panel(     title = \"Incidence\",     icon = icon(\"chart-line\"),     bslib::layout_sidebar(       sidebar = bslib::sidebar(         title = \"Plot options\",         shinyWidgets::pickerInput(           \"incidence_sex\",           \"Sex strata\",           choices = c(\"overall\", \"Male\", \"Female\"),           selected = \"overall\",           multiple = TRUE         ),         shinyWidgets::pickerInput(           inputId = \"facet\",           label = \"Facet\",           selected = \"sex\",           multiple = TRUE,           choices = c(\"cdm_name\", \"incidence_start_date\", \"sex\", \"outcome_cohort_name\"),         ),         shinyWidgets::pickerInput(           inputId = \"colour\",           label = \"Colour\",           selected = \"outcome_cohort_name\",           multiple = TRUE,           choices = c(\"cdm_name\", \"incidence_start_date\",  \"sex\", \"outcome_cohort_name\")         ),         checkboxInput(\"inc_ribbon\", \"Show ribbon (CI)\", TRUE),         checkboxInput(\"interactive\", \"Interactive Plot\", TRUE),         width = 320       ),       bslib::card(         full_screen = TRUE,         bslib::card_header(\"Incidence over time\"),         uiOutput(\"incidence_plot\", height = \"520px\") |> shinycssloaders::withSpinner(type = 4)       )     )   ) )"},{"path":[]},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a04_shiny_apps.html","id":"baseline-characteristics","dir":"Articles","previous_headings":"Shiny App: Server","what":"1) Baseline characteristics","title":"Shiny Apps","text":"server filters results selected sex creates gt table using tableCharacteristics() function CohortCharacteristics package. function built visOmopResults, ensures consistent styling supports arguments define headers, group columns, hide columns. <summarised_result> table, don’t dedicated table function, can instead use visOmopTable() generate gt table Shiny. allows group estimates configure header, group, hidden column options similar way.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a04_shiny_apps.html","id":"large-scale-characteristics","dir":"Articles","previous_headings":"Shiny App: Server","what":"2) Large Scale characteristics","title":"Shiny Apps","text":"results <summarised_result> format, shown : case, use visTable() generate tables either datatable reactable, depending user’s choice UI. table type specified type argument. table types, pass UI-selected columns groupColumn hide. generate header result, require restructuring estimates single “estimate_value” column. look behaviour tables can customised style argument. Available options can explored : tableStyle(\"datatable\") tableStyle(\"reactable\") vignette, modify datatable style server code filters appear top table instead default bottom.","code":"data$large_scale_characteristics #> # A tibble: 952 × 8 #>    cdm_name    cohort_name sex   concept_name window concept_id count percentage #>    <chr>       <chr>       <chr> <chr>        <chr>  <chr>      <int>      <dbl> #>  1 my_duckdb_… denominato… over… Acute aller… -inf … 4084167      113       4.41 #>  2 my_duckdb_… denominato… over… Acute bacte… -inf … 4294548      607      23.7  #>  3 my_duckdb_… denominato… over… Acute bronc… -inf … 260139      2303      89.8  #>  4 my_duckdb_… denominato… over… Acute chole… -inf … 198809        29       1.13 #>  5 my_duckdb_… denominato… over… Acute viral… -inf … 4112343     2388      93.1  #>  6 my_duckdb_… denominato… over… Alzheimer's… -inf … 378419        15       0.59 #>  7 my_duckdb_… denominato… over… Anemia       -inf … 439777        73       2.85 #>  8 my_duckdb_… denominato… over… Angiodyspla… -inf … 4310024      281      11.0  #>  9 my_duckdb_… denominato… over… Appendicitis -inf … 440448       125       4.88 #> 10 my_duckdb_… denominato… over… Atopic derm… -inf … 133834        54       2.11 #> # ℹ 942 more rows"},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a04_shiny_apps.html","id":"incidence","dir":"Articles","previous_headings":"Shiny App: Server","what":"3) Incidence","title":"Shiny Apps","text":"incidence results, use plotIncidence() function IncidencePrevalence package. function creates ggplot object, can rendered static plot plotOutput interactive plot plotlyOutput. Users can also select columns use colouring faceting, whether display confidence interval ribbons. results—whether <summarised_reuslt> class —can generate plots similar way using plotting functions available visOmopResults.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a04_shiny_apps.html","id":"example-server-code","dir":"Articles","previous_headings":"Shiny App: Server","what":"Example Server Code","title":"Shiny Apps","text":"Note: CohortCharacteristics IncidencePrevalence functions plotting tabulation built visOmopResults, means share consistent interface style.","code":"server <- function(input, output, session) {   # Baseline (GT)   output$summarise_characteristics_table <- gt::render_gt({     data$summarised_characteristics |>       # filter results by sex       filterStrata(sex %in% input$summarise_characteristics_sex) |>       # create GT table       CohortCharacteristics::tableCharacteristics(         header = input$summarise_characteristics_table_header,         groupColumn = input$summarise_characteristics_table_group_column,         hide = input$summarise_characteristics_table_hide,         type = \"gt\"       )   })    # Large scale characteristics   getLargeScaleResults <- reactive({     data$large_scale_characteristics |>       filter(.data$sex %in% input$large_scale_sex)   })   # To render as DT   output$large_dt <- renderDT({     getLargeScaleResults() |>       visTable(         hide = input$large_scale_hide,         groupColumn = input$large_scale_group_column,         type = \"datatable\",         style = list(           filter = \"top\",           searchHighlight = TRUE,           rownames = FALSE         )       )   })   # To render as reactable   output$large_reactable <- reactable::renderReactable({     getLargeScaleResults() |>       visTable(         hide = input$large_scale_hide,         groupColumn = input$large_scale_group_column,         type = \"reactable\",         style = \"default\"       )   })    # Incidence   getIncidencePlot <- reactive({     data$incidence |>       filterStrata(sex %in% input$incidence_sex) |>       plotIncidence(         colour = input$colour,         facet = input$facet,         ribbon = input$inc_ribbon       ) +       theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust = 1))   })   output$incidence_plot <- renderUI({     plt <- getIncidencePlot()     if (input$interactive) {       ggplotly(plt)     } else {       renderPlot(plt)     }   }) }"},{"path":"https://darwin-eu.github.io/visOmopResults/articles/a04_shiny_apps.html","id":"run-app","dir":"Articles","previous_headings":"","what":"Run App","title":"Shiny Apps","text":"run Shiny app, copy code chunks provided vignette script named app.R, add following line end: can find complete code run ShinyApp .","code":"shinyApp(ui, server)"},{"path":"https://darwin-eu.github.io/visOmopResults/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Martí Català. Author. Núria Mercadé-Besora. Author, maintainer. Yuchen Guo. Contributor. Elin Rowlands. Contributor. Marta Alcalde-Herraiz. Contributor. Edward Burn. Contributor.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Català M, Mercadé-Besora N (2025). visOmopResults: Graphs Tables OMOP Results. R package version 1.3.1, https://darwin-eu.github.io/visOmopResults/.","code":"@Manual{,   title = {visOmopResults: Graphs and Tables for OMOP Results},   author = {Martí Català and Núria Mercadé-Besora},   year = {2025},   note = {R package version 1.3.1},   url = {https://darwin-eu.github.io/visOmopResults/}, }"},{"path":[]},{"path":"https://darwin-eu.github.io/visOmopResults/index.html","id":"package-overview","dir":"","previous_headings":"","what":"Package overview","title":"Graphs and Tables for OMOP Results","text":"visOmopResults offers set functions tailored format objects class <summarised_result> (defined omopgenerics package). provides functionalities create formatted tables generate plots. visualisations highly versatile reporting results Shiny apps, RMarkdown, Quarto, , supporting various output formats HTML, PNG, Word, PDF.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/index.html","id":"lets-get-started","dir":"","previous_headings":"","what":"Let’s get started","title":"Graphs and Tables for OMOP Results","text":"can install latest version visOmopResults CRAN: can install development version GitHub : <summarised_result> standardised output format utilized across various packages, including: CohortCharacteristics DrugUtilisation IncidencePrevalence PatientProfiles CodelistGenerator CohortSurvival CohortSymmetry Although standard output format essential, can sometimes challenging manage. visOmopResults package aims simplify process. demonstrate package’s functionality, let’s start using mock results:","code":"install.packages(\"visOmopResults\") # install.packages(\"pak\") pak::pkg_install(\"darwin-eu/visOmopResults\") library(visOmopResults) result <- mockSummarisedResult()"},{"path":"https://darwin-eu.github.io/visOmopResults/index.html","id":"tables-visualisations","dir":"","previous_headings":"","what":"Tables visualisations","title":"Graphs and Tables for OMOP Results","text":"Currently table functionalities built around 4 packages: tibble, gt, flextable, datatable. two main functions: visOmopTable(): Creates well-formatted table specifically <summarised_result> object. visTable(): Creates nicely formatted table <data.frame> object. Let’s see simple example:","code":"result |>   filterStrata(sex != \"overall\" & age_group != \"overall\") |>   visOmopTable(     type = \"flextable\",     estimateName = c(       \"N(%)\" = \"<count> (<percentage>%)\",        \"N\" = \"<count>\",        \"mean (sd)\" = \"<mean> (<sd>)\"),     header = c(\"sex\", \"age_group\"),     settingsColumn = NULL,     groupColumn = c(\"cohort_name\"),     rename = c(\"Variable\" = \"variable_name\", \" \" = \"variable_level\"),     hide = \"cdm_name\",     style = \"darwin\"   )"},{"path":"https://darwin-eu.github.io/visOmopResults/index.html","id":"plots-visualisations","dir":"","previous_headings":"","what":"Plots visualisations","title":"Graphs and Tables for OMOP Results","text":"Currently plot functionalities built around ggplot2. output plot functions <ggplot2> object can customised. three plotting functions: plotScatter() create scatter plot. plotBar() create bar plot. plotBox() create box plot. Additionally, themeVisOmop() function applies consistent styling plots, aligning package’s visual design. Let’s see can create simple boxplot age:","code":"library(dplyr) result |>   filter(variable_name == \"number subjects\") |>   filterStrata(sex != \"overall\") |>   barPlot(     x = \"age_group\",      y = \"count\",     facet = \"cohort_name\",      colour = \"sex\",     style = \"darwin\"   )"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/barPlot.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a bar plot visualisation from a <summarised_result> object — barPlot","title":"Create a bar plot visualisation from a <summarised_result> object — barPlot","text":"Create bar plot visualisation <summarised_result> object","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/barPlot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a bar plot visualisation from a <summarised_result> object — barPlot","text":"","code":"barPlot(   result,   x,   y,   width = NULL,   just = 0.5,   position = \"dodge\",   facet = NULL,   colour = NULL,   style = \"default\",   type = \"ggplot\",   label = character() )"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/barPlot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a bar plot visualisation from a <summarised_result> object — barPlot","text":"result <summarised_result> object. x Column estimate name used x variable. y Column estimate name used y variable. width Bar width, geom_col() ggplot2 package. just Adjustment column placement, geom_col() ggplot2 package. position Position bars, can either dodge stack facet Variables facet , formula can provided specify variables used rows ones columns. colour Columns use determine colours. style character string defining visual theme apply plot. can set NULL apply standard ggplot2 default style, provide name one package's pre-defined styles. Refer plotStyle() function available style pre-defined themes. customization, can always modify returned ggplot object directly. type desired format output plot. See plotType() supported plot types. label Character vector columns display interactively plotly.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/barPlot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a bar plot visualisation from a <summarised_result> object — barPlot","text":"plot object.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/barPlot.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a bar plot visualisation from a <summarised_result> object — barPlot","text":"","code":"result <- mockSummarisedResult() |> dplyr::filter(variable_name == \"age\")  barPlot(   result = result,   x = \"cohort_name\",   y = \"mean\",   facet = c(\"age_group\", \"sex\"),   colour = \"sex\") #> Warning: Ignoring empty aesthetic: `width`."},{"path":"https://darwin-eu.github.io/visOmopResults/reference/boxPlot.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a box plot visualisation from a <summarised_result> object — boxPlot","title":"Create a box plot visualisation from a <summarised_result> object — boxPlot","text":"Create box plot visualisation <summarised_result> object","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/boxPlot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a box plot visualisation from a <summarised_result> object — boxPlot","text":"","code":"boxPlot(   result,   x,   lower = \"q25\",   middle = \"median\",   upper = \"q75\",   ymin = \"min\",   ymax = \"max\",   facet = NULL,   colour = NULL,   style = \"default\",   type = \"ggplot\",   label = character() )"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/boxPlot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a box plot visualisation from a <summarised_result> object — boxPlot","text":"result <summarised_result> object. x Column estimate name used x variable. lower Estimate name lower quantile box. middle Estimate name middle line box. upper Estimate name upper quantile box. ymin Lower limit error bars, provided plot using geom_errorbar. ymax Upper limit error bars, provided plot using geom_errorbar. facet Variables facet , formula can provided specify variables used rows ones columns. colour Columns use determine colours. style character string defining visual theme apply plot. can set NULL apply standard ggplot2 default style, provide name one package's pre-defined styles. Refer plotStyle() function available style pre-defined themes. customization, can always modify returned ggplot object directly. type desired format output plot. See plotType() supported plot types. label Character vector columns display interactively plotly.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/boxPlot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a box plot visualisation from a <summarised_result> object — boxPlot","text":"ggplot2 object.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/boxPlot.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a box plot visualisation from a <summarised_result> object — boxPlot","text":"","code":"dplyr::tibble(year = \"2000\", q25 = 25, median = 50, q75 = 75, min = 0, max = 100) |>   boxPlot(x = \"year\")"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/customiseText.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply styling to text or column names — customiseText","title":"Apply styling to text or column names — customiseText","text":"function styles character vectors column names data frame. styling function can customised, can provide specific replacements certain values.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/customiseText.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply styling to text or column names — customiseText","text":"","code":"customiseText(   x,   fun = function(x) stringr::str_to_sentence(gsub(\"_\", \" \", x)),   custom = NULL,   keep = NULL )"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/customiseText.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply styling to text or column names — customiseText","text":"x character vector style text. fun styling function apply text x. default function converts snake_case sentence case. custom named character vector indicating custom names specific values x. NULL, styling function fun applied values. keep Either character vector names keep unchanged. NULL, names styled.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/customiseText.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply styling to text or column names — customiseText","text":"character vector styled text data frame styled column names.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/customiseText.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Apply styling to text or column names — customiseText","text":"","code":"# Styling a character vector customiseText(c(\"some_column_name\", \"another_column\")) #> [1] \"Some column name\" \"Another column\"    # Custom styling for specific values customiseText(x = c(\"some_column\", \"another_column\"),           custom = c(\"Custom Name\" = \"another_column\")) #> [1] \"Some column\" \"Custom Name\"  # Keeping specific values unchanged customiseText(x = c(\"some_column\", \"another_column\"), keep = \"another_column\") #> [1] \"Some column\"    \"another_column\"  # Styling column names and variables in a data frame dplyr::tibble(   some_column = c(\"hi_there\", \"rename_me\", \"example\", \"to_keep\"),   another_column = 1:4,   to_keep = \"as_is\" ) |>   dplyr::mutate(     \"some_column\" = customiseText(some_column, custom = c(\"EXAMPLE\" = \"example\"), keep = \"to_keep\")   ) |>   dplyr::rename_with(.fn = ~ customiseText(.x, keep = \"to_keep\")) #> # A tibble: 4 × 3 #>   `Some column` `Another column` to_keep #>   <chr>                    <int> <chr>   #> 1 Hi there                     1 as_is   #> 2 Rename me                    2 as_is   #> 3 EXAMPLE                      3 as_is   #> 4 to_keep                      4 as_is"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/data.html","id":null,"dir":"Reference","previous_headings":"","what":"List of mock results — data","title":"List of mock results — data","text":"List mock results","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List of mock results — data","text":"","code":"data"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/data.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"List of mock results — data","text":"list mock results quarto shiny vignette examples","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/emptyPlot.html","id":null,"dir":"Reference","previous_headings":"","what":"Returns an empty plot — emptyPlot","title":"Returns an empty plot — emptyPlot","text":"Returns empty plot","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/emptyPlot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Returns an empty plot — emptyPlot","text":"","code":"emptyPlot(title = \"No data to plot\", subtitle = \"\", type = \"ggplot\")"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/emptyPlot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Returns an empty plot — emptyPlot","text":"title Title use empty plot. subtitle Subtitle use empty plot. type desired format output plot. See plotType() supported plot types.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/emptyPlot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Returns an empty plot — emptyPlot","text":"empty ggplot object","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/emptyPlot.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Returns an empty plot — emptyPlot","text":"","code":"emptyPlot()"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/emptyTable.html","id":null,"dir":"Reference","previous_headings":"","what":"Returns an empty table — emptyTable","title":"Returns an empty table — emptyTable","text":"Returns empty table","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/emptyTable.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Returns an empty table — emptyTable","text":"","code":"emptyTable(type = \"gt\")"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/emptyTable.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Returns an empty table — emptyTable","text":"type desired format output table. See tableType() allowed options.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/emptyTable.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Returns an empty table — emptyTable","text":"empty table class specified type","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/emptyTable.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Returns an empty table — emptyTable","text":"Table data","code":"emptyTable(type = \"flextable\") .cl-19f91a2c{}.cl-19f18136{font-family:'DejaVu Sans';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-19f4492a{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-19f4654a{width:1.5in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}Table has no data"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/formatEstimateName.html","id":null,"dir":"Reference","previous_headings":"","what":"Formats estimate_name and estimate_value column — formatEstimateName","title":"Formats estimate_name and estimate_value column — formatEstimateName","text":"Formats estimate_name estimate_value columns changing name estimate name /joining different estimates together single row.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/formatEstimateName.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Formats estimate_name and estimate_value column — formatEstimateName","text":"","code":"formatEstimateName(   result,   estimateName = NULL,   keepNotFormatted = TRUE,   useFormatOrder = TRUE )"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/formatEstimateName.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Formats estimate_name and estimate_value column — formatEstimateName","text":"result <summarised_result>. estimateName Named list estimate name's join, sorted computation order. Indicate estimate_name's <...>. keepNotFormatted Whether keep rows formatted. useFormatOrder Whether use order estimate names appear estimateName (TRUE), use order input dataframe (FALSE).","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/formatEstimateName.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Formats estimate_name and estimate_value column — formatEstimateName","text":"<summarised_result> object.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/formatEstimateName.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Formats estimate_name and estimate_value column — formatEstimateName","text":"","code":"result <- mockSummarisedResult() result |>   formatEstimateName(     estimateName = c(       \"N (%)\" = \"<count> (<percentage>%)\", \"N\" = \"<count>\"     ),     keepNotFormatted = FALSE   ) #> # A tibble: 54 × 13 #>    result_id cdm_name group_name  group_level strata_name       strata_level    #>        <int> <chr>    <chr>       <chr>       <chr>             <chr>           #>  1         1 mock     cohort_name cohort1     overall           overall         #>  2         1 mock     cohort_name cohort1     age_group &&& sex <40 &&& Male    #>  3         1 mock     cohort_name cohort1     age_group &&& sex >=40 &&& Male   #>  4         1 mock     cohort_name cohort1     age_group &&& sex <40 &&& Female  #>  5         1 mock     cohort_name cohort1     age_group &&& sex >=40 &&& Female #>  6         1 mock     cohort_name cohort1     sex               Male            #>  7         1 mock     cohort_name cohort1     sex               Female          #>  8         1 mock     cohort_name cohort1     age_group         <40             #>  9         1 mock     cohort_name cohort1     age_group         >=40            #> 10         1 mock     cohort_name cohort2     overall           overall         #> # ℹ 44 more rows #> # ℹ 7 more variables: variable_name <chr>, variable_level <chr>, #> #   estimate_name <chr>, estimate_type <chr>, estimate_value <chr>, #> #   additional_name <chr>, additional_level <chr>"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/formatEstimateValue.html","id":null,"dir":"Reference","previous_headings":"","what":"Formats the estimate_value column — formatEstimateValue","title":"Formats the estimate_value column — formatEstimateValue","text":"Formats estimate_value column <summarised_result> object editing number decimals, decimal thousand/millions separator marks.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/formatEstimateValue.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Formats the estimate_value column — formatEstimateValue","text":"","code":"formatEstimateValue(   result,   decimals = c(integer = 0, numeric = 2, percentage = 1, proportion = 3),   decimalMark = \".\",   bigMark = \",\" )"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/formatEstimateValue.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Formats the estimate_value column — formatEstimateValue","text":"result <summarised_result>. decimals Number decimals per estimate type (integer, numeric, percentage, proportion), estimate name, estimate values (introduce number decimals). decimalMark Decimal separator mark. bigMark Thousand millions separator mark.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/formatEstimateValue.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Formats the estimate_value column — formatEstimateValue","text":"<summarised_result>.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/formatEstimateValue.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Formats the estimate_value column — formatEstimateValue","text":"","code":"result <- mockSummarisedResult()  result |> formatEstimateValue(decimals = 1) #> # A tibble: 126 × 13 #>    result_id cdm_name group_name  group_level strata_name       strata_level    #>        <int> <chr>    <chr>       <chr>       <chr>             <chr>           #>  1         1 mock     cohort_name cohort1     overall           overall         #>  2         1 mock     cohort_name cohort1     age_group &&& sex <40 &&& Male    #>  3         1 mock     cohort_name cohort1     age_group &&& sex >=40 &&& Male   #>  4         1 mock     cohort_name cohort1     age_group &&& sex <40 &&& Female  #>  5         1 mock     cohort_name cohort1     age_group &&& sex >=40 &&& Female #>  6         1 mock     cohort_name cohort1     sex               Male            #>  7         1 mock     cohort_name cohort1     sex               Female          #>  8         1 mock     cohort_name cohort1     age_group         <40             #>  9         1 mock     cohort_name cohort1     age_group         >=40            #> 10         1 mock     cohort_name cohort2     overall           overall         #> # ℹ 116 more rows #> # ℹ 7 more variables: variable_name <chr>, variable_level <chr>, #> #   estimate_name <chr>, estimate_type <chr>, estimate_value <chr>, #> #   additional_name <chr>, additional_level <chr>  result |> formatEstimateValue(decimals = c(integer = 0, numeric = 1)) #> # A tibble: 126 × 13 #>    result_id cdm_name group_name  group_level strata_name       strata_level    #>        <int> <chr>    <chr>       <chr>       <chr>             <chr>           #>  1         1 mock     cohort_name cohort1     overall           overall         #>  2         1 mock     cohort_name cohort1     age_group &&& sex <40 &&& Male    #>  3         1 mock     cohort_name cohort1     age_group &&& sex >=40 &&& Male   #>  4         1 mock     cohort_name cohort1     age_group &&& sex <40 &&& Female  #>  5         1 mock     cohort_name cohort1     age_group &&& sex >=40 &&& Female #>  6         1 mock     cohort_name cohort1     sex               Male            #>  7         1 mock     cohort_name cohort1     sex               Female          #>  8         1 mock     cohort_name cohort1     age_group         <40             #>  9         1 mock     cohort_name cohort1     age_group         >=40            #> 10         1 mock     cohort_name cohort2     overall           overall         #> # ℹ 116 more rows #> # ℹ 7 more variables: variable_name <chr>, variable_level <chr>, #> #   estimate_name <chr>, estimate_type <chr>, estimate_value <chr>, #> #   additional_name <chr>, additional_level <chr>  result |>   formatEstimateValue(decimals = c(numeric = 1, count = 0)) #> # A tibble: 126 × 13 #>    result_id cdm_name group_name  group_level strata_name       strata_level    #>        <int> <chr>    <chr>       <chr>       <chr>             <chr>           #>  1         1 mock     cohort_name cohort1     overall           overall         #>  2         1 mock     cohort_name cohort1     age_group &&& sex <40 &&& Male    #>  3         1 mock     cohort_name cohort1     age_group &&& sex >=40 &&& Male   #>  4         1 mock     cohort_name cohort1     age_group &&& sex <40 &&& Female  #>  5         1 mock     cohort_name cohort1     age_group &&& sex >=40 &&& Female #>  6         1 mock     cohort_name cohort1     sex               Male            #>  7         1 mock     cohort_name cohort1     sex               Female          #>  8         1 mock     cohort_name cohort1     age_group         <40             #>  9         1 mock     cohort_name cohort1     age_group         >=40            #> 10         1 mock     cohort_name cohort2     overall           overall         #> # ℹ 116 more rows #> # ℹ 7 more variables: variable_name <chr>, variable_level <chr>, #> #   estimate_name <chr>, estimate_type <chr>, estimate_value <chr>, #> #   additional_name <chr>, additional_level <chr>"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/formatHeader.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a header for gt and flextable objects — formatHeader","title":"Create a header for gt and flextable objects — formatHeader","text":"Pivots <summarised_result> object based column names header, generating specific column names subsequent header formatting formatTable function.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/formatHeader.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a header for gt and flextable objects — formatHeader","text":"","code":"formatHeader(   result,   header,   delim = \"\\n\",   includeHeaderName = TRUE,   includeHeaderKey = TRUE )"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/formatHeader.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a header for gt and flextable objects — formatHeader","text":"result <summarised_result>. header Names variables make headers. delim Delimiter use separate headers. includeHeaderName Whether include column name header. includeHeaderKey Whether include header key (header, header_name, header_level) header type column names.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/formatHeader.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a header for gt and flextable objects — formatHeader","text":"tibble rows pivotted columns key names subsequent header formatting.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/formatHeader.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a header for gt and flextable objects — formatHeader","text":"","code":"result <- mockSummarisedResult()  result |>   formatHeader(     header = c(       \"Study cohorts\", \"group_level\", \"Study strata\", \"strata_name\",       \"strata_level\"     ),     includeHeaderName = FALSE   ) #> # A tibble: 7 × 27 #>   result_id cdm_name group_name  variable_name   variable_level estimate_name #>       <int> <chr>    <chr>       <chr>           <chr>          <chr>         #> 1         1 mock     cohort_name number subjects NA             count         #> 2         1 mock     cohort_name age             NA             mean          #> 3         1 mock     cohort_name age             NA             sd            #> 4         1 mock     cohort_name Medications     Amoxiciline    count         #> 5         1 mock     cohort_name Medications     Amoxiciline    percentage    #> 6         1 mock     cohort_name Medications     Ibuprofen      count         #> 7         1 mock     cohort_name Medications     Ibuprofen      percentage    #> # ℹ 21 more variables: estimate_type <chr>, additional_name <chr>, #> #   additional_level <chr>, #> #   `[header]Study cohorts\\n[header_level]cohort1\\n[header]Study strata\\n[header_level]overall\\n[header_level]overall` <chr>, #> #   `[header]Study cohorts\\n[header_level]cohort1\\n[header]Study strata\\n[header_level]age_group &&& sex\\n[header_level]<40 &&& Male` <chr>, #> #   `[header]Study cohorts\\n[header_level]cohort1\\n[header]Study strata\\n[header_level]age_group &&& sex\\n[header_level]>=40 &&& Male` <chr>, #> #   `[header]Study cohorts\\n[header_level]cohort1\\n[header]Study strata\\n[header_level]age_group &&& sex\\n[header_level]<40 &&& Female` <chr>, #> #   `[header]Study cohorts\\n[header_level]cohort1\\n[header]Study strata\\n[header_level]age_group &&& sex\\n[header_level]>=40 &&& Female` <chr>, …"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/formatMinCellCount.html","id":null,"dir":"Reference","previous_headings":"","what":"To indicate which was the minimum cell counts where estimates have been suppressed. — formatMinCellCount","title":"To indicate which was the minimum cell counts where estimates have been suppressed. — formatMinCellCount","text":"indicate minimum cell counts estimates suppressed.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/formatMinCellCount.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"To indicate which was the minimum cell counts where estimates have been suppressed. — formatMinCellCount","text":"","code":"formatMinCellCount(result)"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/formatMinCellCount.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"To indicate which was the minimum cell counts where estimates have been suppressed. — formatMinCellCount","text":"result <summarised_result> object.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/formatMinCellCount.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"To indicate which was the minimum cell counts where estimates have been suppressed. — formatMinCellCount","text":"","code":"result <- mockSummarisedResult() result |> formatMinCellCount() #> # A tibble: 126 × 13 #>    result_id cdm_name group_name  group_level strata_name       strata_level    #>        <int> <chr>    <chr>       <chr>       <chr>             <chr>           #>  1         1 mock     cohort_name cohort1     overall           overall         #>  2         1 mock     cohort_name cohort1     age_group &&& sex <40 &&& Male    #>  3         1 mock     cohort_name cohort1     age_group &&& sex >=40 &&& Male   #>  4         1 mock     cohort_name cohort1     age_group &&& sex <40 &&& Female  #>  5         1 mock     cohort_name cohort1     age_group &&& sex >=40 &&& Female #>  6         1 mock     cohort_name cohort1     sex               Male            #>  7         1 mock     cohort_name cohort1     sex               Female          #>  8         1 mock     cohort_name cohort1     age_group         <40             #>  9         1 mock     cohort_name cohort1     age_group         >=40            #> 10         1 mock     cohort_name cohort2     overall           overall         #> # ℹ 116 more rows #> # ℹ 7 more variables: variable_name <chr>, variable_level <chr>, #> #   estimate_name <chr>, estimate_type <chr>, estimate_value <chr>, #> #   additional_name <chr>, additional_level <chr>"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/formatTable.html","id":null,"dir":"Reference","previous_headings":"","what":"Creates a flextable or gt object from a dataframe — formatTable","title":"Creates a flextable or gt object from a dataframe — formatTable","text":"Creates flextable object dataframe using delimiter span header, allows easily customise table style.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/formatTable.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Creates a flextable or gt object from a dataframe — formatTable","text":"","code":"formatTable(   x,   type = \"gt\",   delim = \"\\n\",   style = \"default\",   na = \"-\",   title = NULL,   subtitle = NULL,   caption = NULL,   groupColumn = NULL,   groupAsColumn = FALSE,   groupOrder = NULL,   merge = NULL )"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/formatTable.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Creates a flextable or gt object from a dataframe — formatTable","text":"x dataframe. type desired format output table. See tableType() allowed options. delim Delimiter separate headers. style character string custom R code define visual formatting table. argument can provided two ways: Pre-defined Styles (Character String): Use name built-style (e.g., \"darwin\"). See tableStyle() available options. Custom Code (Advanced): Supply block custom R code. code must specific table type. See tableStyleCode() structural examples. na display missing values. used \"datatable\" \"reactable\". title Title table, NULL title. used \"datatable\". subtitle Subtitle table, NULL subtitle. used \"datatable\" \"reactable\". caption Caption table, NULL caption. Text markdown formatting style (e.g. *caption * caption italics). used \"reactable\". groupColumn Columns use group labels, see options use tableColumns(result). default, name new group tidy* column names separated \";\". specify custom group name, use named list : list(\"newGroupName\" = c(\"variable_name\", \"variable_level\")). *tidy: tidy format applied column names replaces \"_\" space converts sentence case. Use rename customise specific column names. groupAsColumn Whether display group labels column (TRUE) rows (FALSE). used \"datatable\" \"reactable\" groupOrder Order display group labels. used \"datatable\" \"reactable\". merge Names columns merge vertically consecutive row cells identical values. Alternatively, use \"all_columns\" apply merging columns, use NULL indicate merging. used \"datatable\" \"reactable\".","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/formatTable.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Creates a flextable or gt object from a dataframe — formatTable","text":"formatted table class selected \"type\" argument.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/formatTable.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Creates a flextable or gt object from a dataframe — formatTable","text":"fxTable example group_level result_id cdm_name group_name variable_name variable_level estimate_name estimate_type additional_name additional_level Study strata overall age_group &&& sex sex age_group overall <40 &&& Male >=40 &&& Male <40 &&& Female >=40 &&& Female Male Female <40 >=40 cohort1 1 mock cohort_name number subjects -- count integer overall overall 2,655,087 3,721,239 5,728,534 9,082,078 2,016,819 8,983,897 9,446,753 6,607,978 6,291,140    age -- mean numeric overall overall 38.0 77.7 93.5 21.2 65.2 12.6 26.7 38.6 1.3      sd numeric overall overall 7.9 1.1 7.2 4.1 8.2 6.5 7.8 5.5 5.3    Medications Amoxiciline count integer overall overall 7,068 9,947 31,627 51,863 66,201 40,683 91,288 29,360 45,907      percentage percentage overall overall 34.668348915875 33.3774930797517 47.6351245073602 89.2198335845023 86.4339470630512 38.9989543473348 77.7320698834956 96.0617997217923 43.4659484773874     Ibuprofen count integer overall overall 23,963 5,893 64,229 87,627 77,891 79,731 45,527 41,008 81,087      percentage percentage overall overall 92.4074469832703 59.876096714288 97.6170694921166 73.1792511884123 35.6726912083104 43.1473690550774 14.8211560677737 1.30775754805654 71.5566066093743 cohort2 1 mock cohort_name number subjects -- count integer overall overall 617,863 2,059,746 1,765,568 6,870,228 3,841,037 7,698,414 4,976,992 7,176,185 9,919,061    age -- mean numeric overall overall 38.2 87.0 34.0 48.2 60.0 49.4 18.6 82.7 66.8      sd numeric overall overall 7.9 0.2 4.8 7.3 6.9 4.8 8.6 4.4 2.4    Medications Amoxiciline count integer overall overall 33,239 65,087 25,802 47,855 76,631 8,425 87,532 33,907 83,944      percentage percentage overall overall 71.2514678714797 39.9994368897751 32.5352151878178 75.7087148027495 20.2692255144939 71.1121222469956 12.1691921027377 24.5488513959572 14.330437942408     Ibuprofen count integer overall overall 60,493 65,472 35,320 27,026 99,268 63,349 21,321 12,937 47,812      percentage percentage overall overall 10.3184235747904 44.6284348610789 64.0101045137271 99.1838620044291 49.5593577856198 48.4349524369463 17.3442334868014 75.4820944508538 45.3895489219576","code":"# Example 1 mockSummarisedResult() |>   formatEstimateValue(decimals = c(integer = 0, numeric = 1)) |>   formatHeader(     header = c(\"Study strata\", \"strata_name\", \"strata_level\"),     includeHeaderName = FALSE   ) |>   formatTable(     type = \"flextable\",     style = \"default\",     na = \"--\",     title = \"fxTable example\",     subtitle = NULL,     caption = NULL,     groupColumn = \"group_level\",     groupAsColumn = TRUE,     groupOrder = c(\"cohort1\", \"cohort2\"),     merge = \"all_columns\"   ) .cl-1b2a7878{table-layout:auto;}.cl-1b222862{font-family:'Arial';font-size:15pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-1b22286c{font-family:'Arial';font-size:10pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-1b222876{font-family:'DejaVu Sans';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-1b252044{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:0;padding-top:0;padding-left:0;padding-right:0;line-height: 1;background-color:transparent;}.cl-1b25204e{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-1b252058{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-1b2542cc{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(190, 190, 190, 1.00);border-top: 0.8pt solid rgba(190, 190, 190, 1.00);border-left: 0.8pt solid rgba(190, 190, 190, 1.00);border-right: 0.8pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1b2542d6{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(190, 190, 190, 1.00);border-top: 0.8pt solid rgba(190, 190, 190, 1.00);border-left: 1pt solid rgba(190, 190, 190, 1.00);border-right: 1pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1b2542e0{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(190, 190, 190, 1.00);border-top: 0.8pt solid rgba(190, 190, 190, 1.00);border-left: 1pt solid rgba(190, 190, 190, 1.00);border-right: 0.8pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1b2542e1{background-color:transparent;vertical-align: middle;border-bottom: 0.8pt solid rgba(190, 190, 190, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0.8pt solid rgba(190, 190, 190, 1.00);border-right: 1pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1b2542ea{background-color:transparent;vertical-align: middle;border-bottom: 0.8pt solid rgba(190, 190, 190, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 1pt solid rgba(190, 190, 190, 1.00);border-right: 1pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1b2542eb{background-color:rgba(200, 200, 200, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.8pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1b2542ec{background-color:rgba(200, 200, 200, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1b2542f4{background-color:rgba(200, 200, 200, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.8pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1b2542f5{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(190, 190, 190, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0.8pt solid rgba(190, 190, 190, 1.00);border-right: 1pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1b2542f6{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(190, 190, 190, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 1pt solid rgba(190, 190, 190, 1.00);border-right: 1pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1b2542fe{background-color:rgba(225, 225, 225, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1b2542ff{background-color:rgba(225, 225, 225, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1b254300{background-color:rgba(225, 225, 225, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.8pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1b254308{background-color:rgba(225, 225, 225, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.8pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1b254309{background-color:rgba(225, 225, 225, 1.00);vertical-align: middle;border-bottom: 0.8pt solid rgba(190, 190, 190, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1b254312{background-color:rgba(225, 225, 225, 1.00);vertical-align: middle;border-bottom: 0.8pt solid rgba(190, 190, 190, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0.8pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1b254313{background-color:rgba(233, 233, 233, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(190, 190, 190, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0.8pt solid rgba(190, 190, 190, 1.00);border-right: 1pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1b25431c{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(255, 255, 255, 0.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 1pt solid rgba(190, 190, 190, 1.00);border-right: 1pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1b25431d{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(190, 190, 190, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 1pt solid rgba(190, 190, 190, 1.00);border-right: 0.8pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1b25431e{background-color:rgba(233, 233, 233, 1.00);vertical-align: middle;border-bottom: 0.8pt solid rgba(190, 190, 190, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 0.8pt solid rgba(190, 190, 190, 1.00);border-right: 1pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1b254326{background-color:transparent;vertical-align: middle;border-bottom: 0.8pt solid rgba(190, 190, 190, 1.00);border-top: 1pt solid rgba(190, 190, 190, 1.00);border-left: 1pt solid rgba(190, 190, 190, 1.00);border-right: 0.8pt solid rgba(190, 190, 190, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}fxTable examplegroup_levelresult_idcdm_namegroup_namevariable_namevariable_levelestimate_nameestimate_typeadditional_nameadditional_levelStudy strataoverallage_group &&& sexsexage_groupoverall<40 &&& Male>=40 &&& Male<40 &&& Female>=40 &&& FemaleMaleFemale<40>=40cohort11mockcohort_namenumber subjects--countintegeroveralloverall2,655,0873,721,2395,728,5349,082,0782,016,8198,983,8979,446,7536,607,9786,291,140age--meannumericoveralloverall38.077.793.521.265.212.626.738.61.3sdnumericoveralloverall7.91.17.24.18.26.57.85.55.3MedicationsAmoxicilinecountintegeroveralloverall7,0689,94731,62751,86366,20140,68391,28829,36045,907percentagepercentageoveralloverall34.66834891587533.377493079751747.635124507360289.219833584502386.433947063051238.998954347334877.732069883495696.061799721792343.4659484773874Ibuprofencountintegeroveralloverall23,9635,89364,22987,62777,89179,73145,52741,00881,087percentagepercentageoveralloverall92.407446983270359.87609671428897.617069492116673.179251188412335.672691208310443.147369055077414.82115606777371.3077575480565471.5566066093743cohort21mockcohort_namenumber subjects--countintegeroveralloverall617,8632,059,7461,765,5686,870,2283,841,0377,698,4144,976,9927,176,1859,919,061age--meannumericoveralloverall38.287.034.048.260.049.418.682.766.8sdnumericoveralloverall7.90.24.87.36.94.88.64.42.4MedicationsAmoxicilinecountintegeroveralloverall33,23965,08725,80247,85576,6318,42587,53233,90783,944percentagepercentageoveralloverall71.251467871479739.999436889775132.535215187817875.708714802749520.269225514493971.112122246995612.169192102737724.548851395957214.330437942408Ibuprofencountintegeroveralloverall60,49365,47235,32027,02699,26863,34921,32112,93747,812percentagepercentageoveralloverall10.318423574790444.628434861078964.010104513727199.183862004429149.559357785619848.434952436946317.344233486801475.482094450853845.3895489219576 # Example 2 mockSummarisedResult() |>   formatEstimateValue(decimals = c(integer = 0, numeric = 1)) |>   formatHeader(header = c(\"Study strata\", \"strata_name\", \"strata_level\"),               includeHeaderName = FALSE) |>   formatTable(     type = \"gt\",     style = list(\"header\" = list(       gt::cell_fill(color = \"#d9d9d9\"),       gt::cell_text(weight = \"bold\")),       \"header_level\" = list(gt::cell_fill(color = \"#e1e1e1\"),                             gt::cell_text(weight = \"bold\")),       \"column_name\" = list(gt::cell_text(weight = \"bold\")),       \"title\" = list(gt::cell_text(weight = \"bold\"),                      gt::cell_fill(color = \"#c8c8c8\")),       \"group_label\" = gt::cell_fill(color = \"#e1e1e1\")),     na = \"--\",     title = \"gtTable example\",     subtitle = NULL,     caption = NULL,     groupColumn = \"group_level\",     groupAsColumn = FALSE,     groupOrder = c(\"cohort1\", \"cohort2\"),     merge = \"all_columns\"   )     gtTable example                     Study strata            result_id       cdm_name       group_name       variable_name       variable_level       estimate_name       estimate_type       additional_name       additional_level                overall                       age_group &&& sex                       sex                       age_group            overall       <40 &&& Male       >=40 &&& Male       <40 &&& Female       >=40 &&& Female       Male       Female       <40       >=40     cohort1     1 mock cohort_name number subjects -- count integer overall overall 2,655,087 3,721,239 5,728,534 9,082,078 2,016,819 8,983,897 9,446,753 6,607,978 6,291,140   age -- mean numeric overall overall 38.0 77.7 93.5 21.2 65.2 12.6 26.7 38.6 1.3     sd numeric overall overall 7.9 1.1 7.2 4.1 8.2 6.5 7.8 5.5 5.3   Medications Amoxiciline count integer overall overall 7,068 9,947 31,627 51,863 66,201 40,683 91,288 29,360 45,907     percentage percentage overall overall 34.668348915875 33.3774930797517 47.6351245073602 89.2198335845023 86.4339470630512 38.9989543473348 77.7320698834956 96.0617997217923 43.4659484773874    Ibuprofen count integer overall overall 23,963 5,893 64,229 87,627 77,891 79,731 45,527 41,008 81,087     percentage percentage overall overall 92.4074469832703 59.876096714288 97.6170694921166 73.1792511884123 35.6726912083104 43.1473690550774 14.8211560677737 1.30775754805654 71.5566066093743cohort2     1 mock cohort_name number subjects -- count integer overall overall 617,863 2,059,746 1,765,568 6,870,228 3,841,037 7,698,414 4,976,992 7,176,185 9,919,061   age -- mean numeric overall overall 38.2 87.0 34.0 48.2 60.0 49.4 18.6 82.7 66.8     sd numeric overall overall 7.9 0.2 4.8 7.3 6.9 4.8 8.6 4.4 2.4   Medications Amoxiciline count integer overall overall 33,239 65,087 25,802 47,855 76,631 8,425 87,532 33,907 83,944     percentage percentage overall overall 71.2514678714797 39.9994368897751 32.5352151878178 75.7087148027495 20.2692255144939 71.1121222469956 12.1691921027377 24.5488513959572 14.330437942408    Ibuprofen count integer overall overall 60,493 65,472 35,320 27,026 99,268 63,349 21,321 12,937 47,812     percentage percentage overall overall 10.3184235747904 44.6284348610789 64.0101045137271 99.1838620044291 49.5593577856198 48.4349524369463 17.3442334868014 75.4820944508538 45.3895489219576"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/mockSummarisedResult.html","id":null,"dir":"Reference","previous_headings":"","what":"A <summarised_result> object filled with mock data — mockSummarisedResult","title":"A <summarised_result> object filled with mock data — mockSummarisedResult","text":"Creates object class <summarised_result> mock data illustration purposes.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/mockSummarisedResult.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A <summarised_result> object filled with mock data — mockSummarisedResult","text":"","code":"mockSummarisedResult()"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/mockSummarisedResult.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"A <summarised_result> object filled with mock data — mockSummarisedResult","text":"object class <summarised_result> mock data.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/mockSummarisedResult.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"A <summarised_result> object filled with mock data — mockSummarisedResult","text":"","code":"mockSummarisedResult() #> # A tibble: 126 × 13 #>    result_id cdm_name group_name  group_level strata_name       strata_level    #>        <int> <chr>    <chr>       <chr>       <chr>             <chr>           #>  1         1 mock     cohort_name cohort1     overall           overall         #>  2         1 mock     cohort_name cohort1     age_group &&& sex <40 &&& Male    #>  3         1 mock     cohort_name cohort1     age_group &&& sex >=40 &&& Male   #>  4         1 mock     cohort_name cohort1     age_group &&& sex <40 &&& Female  #>  5         1 mock     cohort_name cohort1     age_group &&& sex >=40 &&& Female #>  6         1 mock     cohort_name cohort1     sex               Male            #>  7         1 mock     cohort_name cohort1     sex               Female          #>  8         1 mock     cohort_name cohort1     age_group         <40             #>  9         1 mock     cohort_name cohort1     age_group         >=40            #> 10         1 mock     cohort_name cohort2     overall           overall         #> # ℹ 116 more rows #> # ℹ 7 more variables: variable_name <chr>, variable_level <chr>, #> #   estimate_name <chr>, estimate_type <chr>, estimate_value <chr>, #> #   additional_name <chr>, additional_level <chr>"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/plotColumns.html","id":null,"dir":"Reference","previous_headings":"","what":"Columns for the plot functions — plotColumns","title":"Columns for the plot functions — plotColumns","text":"Names columns can used input arguments plot functions.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/plotColumns.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Columns for the plot functions — plotColumns","text":"","code":"plotColumns(result)"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/plotColumns.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Columns for the plot functions — plotColumns","text":"result <summarised_result> object.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/plotColumns.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Columns for the plot functions — plotColumns","text":"character vector supported columns plots.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/plotColumns.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Columns for the plot functions — plotColumns","text":"","code":"result <- mockSummarisedResult() plotColumns(result) #>  [1] \"cdm_name\"       \"cohort_name\"    \"age_group\"      \"sex\"            #>  [5] \"variable_name\"  \"variable_level\" \"count\"          \"mean\"           #>  [9] \"sd\"             \"percentage\""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/plotDoc.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper for consistent documentation of plots. — plotDoc","title":"Helper for consistent documentation of plots. — plotDoc","text":"Helper consistent documentation plots.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/plotDoc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper for consistent documentation of plots. — plotDoc","text":"result <summarised_result> object. x Column estimate name used x variable. y Column estimate name used y variable. width Bar width, geom_col() ggplot2 package. just Adjustment column placement, geom_col() ggplot2 package. facet Variables facet , formula can provided specify variables used rows ones columns. colour Columns use determine colours. group Columns use determine group. label Character vector columns display interactively plotly. style character string defining visual theme apply plot. can set NULL apply standard ggplot2 default style, provide name one package's pre-defined styles. Refer plotStyle() function available style pre-defined themes. customization, can always modify returned ggplot object directly. type desired format output plot. See plotType() supported plot types. lower Estimate name lower quantile box. middle Estimate name middle line box. upper Estimate name upper quantile box. line Whether plot line using geom_line. point Whether plot points using geom_point. ribbon Whether plot ribbon using geom_ribbon. ymin Lower limit error bars, provided plot using geom_errorbar. ymax Upper limit error bars, provided plot using geom_errorbar. position Position bars, can either dodge stack","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/plotStyle.html","id":null,"dir":"Reference","previous_headings":"","what":"Pre-defined styles are available for plots — plotStyle","title":"Pre-defined styles are available for plots — plotStyle","text":"function provides list pre-defined styles plots can used style argument plot functions.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/plotStyle.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pre-defined styles are available for plots — plotStyle","text":"","code":"plotStyle()"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/plotStyle.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pre-defined styles are available for plots — plotStyle","text":"character vector indicating style names.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/plotStyle.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Pre-defined styles are available for plots — plotStyle","text":"","code":"plotStyle() #> [1] \"default\" \"darwin\""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/plotType.html","id":null,"dir":"Reference","previous_headings":"","what":"Supported plot types — plotType","title":"Supported plot types — plotType","text":"function returns supported plot types can used type argument plot functions.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/plotType.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Supported plot types — plotType","text":"","code":"plotType()"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/plotType.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Supported plot types — plotType","text":"character vector supported plot types.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/plotType.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Supported plot types — plotType","text":"","code":"tableType() #> [1] \"gt\"        \"flextable\" \"tibble\"    \"datatable\" \"reactable\" \"tinytable\""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/reexports.html","id":null,"dir":"Reference","previous_headings":"","what":"Objects exported from other packages — reexports","title":"Objects exported from other packages — reexports","text":"objects imported packages. Follow links see documentation. generics tidy omopgenerics additionalColumns, addSettings, bind, exportSummarisedResult, filterAdditional, filterGroup, filterSettings, filterStrata, groupColumns, importSummarisedResult, pivotEstimates, settings, settingsColumns, splitAdditional, splitAll, splitGroup, splitStrata, strataColumns, suppress, tidy, tidyColumns, uniteAdditional, uniteGroup, uniteStrata","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/requireExtrafont.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Calibri font for ","title":"Get Calibri font for ","text":"Imports registers Calibri font use ggplot2 plots using themeDarwin.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/requireExtrafont.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Calibri font for ","text":"","code":"requireExtrafont(device = \"win\")"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/requireExtrafont.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Calibri font for ","text":"device Character string indicating graphics device load fonts (e.g., \"win\", \"pdf\", \"postscript\"). Defaults \"win\" (Windows).","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/requireExtrafont.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Calibri font for ","text":"Invisibly returns TRUE successful registration.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/requireExtrafont.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get Calibri font for ","text":"function required per R installation installing new font. uses extrafont package map system fonts R's graphics devices.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/scatterPlot.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a scatter plot visualisation from a <summarised_result> object — scatterPlot","title":"Create a scatter plot visualisation from a <summarised_result> object — scatterPlot","text":"Create scatter plot visualisation <summarised_result> object","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/scatterPlot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a scatter plot visualisation from a <summarised_result> object — scatterPlot","text":"","code":"scatterPlot(   result,   x,   y,   line,   point,   ribbon,   ymin = NULL,   ymax = NULL,   facet = NULL,   colour = NULL,   style = \"default\",   type = \"ggplot\",   group = colour,   label = character() )"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/scatterPlot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a scatter plot visualisation from a <summarised_result> object — scatterPlot","text":"result <summarised_result> object. x Column estimate name used x variable. y Column estimate name used y variable. line Whether plot line using geom_line. point Whether plot points using geom_point. ribbon Whether plot ribbon using geom_ribbon. ymin Lower limit error bars, provided plot using geom_errorbar. ymax Upper limit error bars, provided plot using geom_errorbar. facet Variables facet , formula can provided specify variables used rows ones columns. colour Columns use determine colours. style character string defining visual theme apply plot. can set NULL apply standard ggplot2 default style, provide name one package's pre-defined styles. Refer plotStyle() function available style pre-defined themes. customization, can always modify returned ggplot object directly. type desired format output plot. See plotType() supported plot types. group Columns use determine group. label Character vector columns display interactively plotly.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/scatterPlot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a scatter plot visualisation from a <summarised_result> object — scatterPlot","text":"plot object.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/scatterPlot.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a scatter plot visualisation from a <summarised_result> object — scatterPlot","text":"","code":"result <- mockSummarisedResult() |>   dplyr::filter(variable_name == \"age\")  scatterPlot(   result = result,   x = \"cohort_name\",   y = \"mean\",   line = TRUE,   point = TRUE,   ribbon = FALSE,   facet = age_group ~ sex) #> `geom_line()`: Each group consists of only one observation. #> ℹ Do you need to adjust the group aesthetic? #> `geom_line()`: Each group consists of only one observation. #> ℹ Do you need to adjust the group aesthetic? #> `geom_line()`: Each group consists of only one observation. #> ℹ Do you need to adjust the group aesthetic? #> `geom_line()`: Each group consists of only one observation. #> ℹ Do you need to adjust the group aesthetic? #> `geom_line()`: Each group consists of only one observation. #> ℹ Do you need to adjust the group aesthetic? #> `geom_line()`: Each group consists of only one observation. #> ℹ Do you need to adjust the group aesthetic? #> `geom_line()`: Each group consists of only one observation. #> ℹ Do you need to adjust the group aesthetic? #> `geom_line()`: Each group consists of only one observation. #> ℹ Do you need to adjust the group aesthetic? #> `geom_line()`: Each group consists of only one observation. #> ℹ Do you need to adjust the group aesthetic?"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/setGlobalPlotOptions.html","id":null,"dir":"Reference","previous_headings":"","what":"Set format options for all subsequent plots — setGlobalPlotOptions","title":"Set format options for all subsequent plots — setGlobalPlotOptions","text":"Set format options subsequent plots unless state different style specific function","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/setGlobalPlotOptions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set format options for all subsequent plots — setGlobalPlotOptions","text":"","code":"setGlobalPlotOptions(style = NULL, type = NULL)"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/setGlobalPlotOptions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set format options for all subsequent plots — setGlobalPlotOptions","text":"style Character indicating style apply. Options either NULL (default ggplot style), one pre-defined styles (refer function plotStyle()). type desired format output plot. See plotType() supported plot types.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/setGlobalTableOptions.html","id":null,"dir":"Reference","previous_headings":"","what":"Set format options for all subsequent tables — setGlobalTableOptions","title":"Set format options for all subsequent tables — setGlobalTableOptions","text":"Set format options subsequent tables unless state different style specific function","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/setGlobalTableOptions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set format options for all subsequent tables — setGlobalTableOptions","text":"","code":"setGlobalTableOptions(style = NULL, type = NULL)"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/setGlobalTableOptions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set format options for all subsequent tables — setGlobalTableOptions","text":"style character string custom R code define visual formatting table. argument can provided two ways: Pre-defined Styles (Character String): Use name built-style (e.g., \"darwin\"). See tableStyle() available options. Custom Code (Advanced): Supply block custom R code. code must specific table type. See tableStyleCode() structural examples. type desired format output table. See tableType() allowed options.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/setGlobalTableOptions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set format options for all subsequent tables — setGlobalTableOptions","text":"","code":"setGlobalTableOptions(style = \"darwin\", type = \"tinytable\") result <- mockSummarisedResult() result |>   visOmopTable(     estimateName = c(\"N%\" = \"<count> (<percentage>)\",                      \"N\" = \"<count>\",                      \"Mean (SD)\" = \"<mean> (<sd>)\"),     header = c(\"cohort_name\"),     rename = c(\"Database name\" = \"cdm_name\"),     groupColumn = strataColumns(result)   ) #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> |                                                                                | **Cohort name**                 | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> | **Database name** | **Variable name** | **Variable level** | **Estimate name** | **cohort1**                     | #> +===================+===================+====================+===================+================+================+ #> | **overall; overall**                                                                                             | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> | mock              | number subjects   | -                  | N                 | 2,655,087      | 617,863        | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> |                   | age               | -                  | Mean (SD)         | 38.00 (7.94)   | 38.24 (7.89)   | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> |                   | Medications       | Amoxiciline        | N%                | 7,068 (34.67)  | 33,239 (71.25) | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> |                   |                   | Ibuprofen          | N%                | 23,963 (92.41) | 60,493 (10.32) | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> | **<40; Male**                                                                                                    | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> | mock              | number subjects   | -                  | N                 | 3,721,239      | 2,059,746      | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> |                   | age               | -                  | Mean (SD)         | 77.74 (1.08)   | 86.97 (0.23)   | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> |                   | Medications       | Amoxiciline        | N%                | 9,947 (33.38)  | 65,087 (40.00) | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> |                   |                   | Ibuprofen          | N%                | 5,893 (59.88)  | 65,472 (44.63) | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> | **>=40; Male**                                                                                                   | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> | mock              | number subjects   | -                  | N                 | 5,728,534      | 1,765,568      | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> |                   | age               | -                  | Mean (SD)         | 93.47 (7.24)   | 34.03 (4.77)   | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> |                   | Medications       | Amoxiciline        | N%                | 31,627 (47.64) | 25,802 (32.54) | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> |                   |                   | Ibuprofen          | N%                | 64,229 (97.62) | 35,320 (64.01) | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> | **<40; Female**                                                                                                  | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> | mock              | number subjects   | -                  | N                 | 9,082,078      | 6,870,228      | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> |                   | age               | -                  | Mean (SD)         | 21.21 (4.11)   | 48.21 (7.32)   | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> |                   | Medications       | Amoxiciline        | N%                | 51,863 (89.22) | 47,855 (75.71) | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> |                   |                   | Ibuprofen          | N%                | 87,627 (73.18) | 27,026 (99.18) | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> | **>=40; Female**                                                                                                 | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> | mock              | number subjects   | -                  | N                 | 2,016,819      | 3,841,037      | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> |                   | age               | -                  | Mean (SD)         | 65.17 (8.21)   | 59.96 (6.93)   | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> |                   | Medications       | Amoxiciline        | N%                | 66,201 (86.43) | 76,631 (20.27) | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> |                   |                   | Ibuprofen          | N%                | 77,891 (35.67) | 99,268 (49.56) | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> | **overall; Male**                                                                                                | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> | mock              | number subjects   | -                  | N                 | 8,983,897      | 7,698,414      | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> |                   | age               | -                  | Mean (SD)         | 12.56 (6.47)   | 49.35 (4.78)   | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> |                   | Medications       | Amoxiciline        | N%                | 40,683 (39.00) | 8,425 (71.11)  | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> |                   |                   | Ibuprofen          | N%                | 79,731 (43.15) | 63,349 (48.43) | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> | **overall; Female**                                                                                              | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> | mock              | number subjects   | -                  | N                 | 9,446,753      | 4,976,992      | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> |                   | age               | -                  | Mean (SD)         | 26.72 (7.83)   | 18.62 (8.61)   | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> |                   | Medications       | Amoxiciline        | N%                | 91,288 (77.73) | 87,532 (12.17) | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> |                   |                   | Ibuprofen          | N%                | 45,527 (14.82) | 21,321 (17.34) | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> | **<40; overall**                                                                                                 | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> | mock              | number subjects   | -                  | N                 | 6,607,978      | 7,176,185      | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> |                   | age               | -                  | Mean (SD)         | 38.61 (5.53)   | 82.74 (4.38)   | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> |                   | Medications       | Amoxiciline        | N%                | 29,360 (96.06) | 33,907 (24.55) | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> |                   |                   | Ibuprofen          | N%                | 41,008 (1.31)  | 12,937 (75.48) | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> | **>=40; overall**                                                                                                | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> | mock              | number subjects   | -                  | N                 | 6,291,140      | 9,919,061      | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> |                   | age               | -                  | Mean (SD)         | 1.34 (5.30)    | 66.85 (2.45)   | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> |                   | Medications       | Amoxiciline        | N%                | 45,907 (43.47) | 83,944 (14.33) | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> |                   |                   | Ibuprofen          | N%                | 81,087 (71.56) | 47,812 (45.39) | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+ #> | NA                | NA                | NA                 | NA                | NA             | NA             | #> +-------------------+-------------------+--------------------+-------------------+----------------+----------------+   # drop global options:  setGlobalTableOptions(style = NULL, type = NULL)"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/tableColumns.html","id":null,"dir":"Reference","previous_headings":"","what":"Columns for the table functions — tableColumns","title":"Columns for the table functions — tableColumns","text":"Names columns can used input arguments table functions.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/tableColumns.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Columns for the table functions — tableColumns","text":"","code":"tableColumns(result)"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/tableColumns.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Columns for the table functions — tableColumns","text":"result <summarised_result> object.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/tableColumns.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Columns for the table functions — tableColumns","text":"character vector supported columns tables.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/tableColumns.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Columns for the table functions — tableColumns","text":"","code":"result <- mockSummarisedResult() tableColumns(result) #> [1] \"cdm_name\"       \"cohort_name\"    \"age_group\"      \"sex\"            #> [5] \"variable_name\"  \"variable_level\" \"estimate_name\""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/tableDoc.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper for consistent documentation of tables. — tableDoc","title":"Helper for consistent documentation of tables. — tableDoc","text":"Helper consistent documentation tables.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/tableDoc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper for consistent documentation of tables. — tableDoc","text":"estimateName named list estimate names join, sorted computation order. Use <...> indicate estimate names. groupColumn Columns use group labels, see options use tableColumns(result). default, name new group tidy* column names separated \";\". specify custom group name, use named list : list(\"newGroupName\" = c(\"variable_name\", \"variable_level\")). *tidy: tidy format applied column names replaces \"_\" space converts sentence case. Use rename customise specific column names. rename named vector customise column names, e.g., c(\"Database name\" = \"cdm_name\"). function renames column names specified tidy* format. type desired format output table. See tableType() allowed options. columnOrder Character vector establishing position columns formatted table. Columns either header, groupColumn, hide ignored. factor named list names refer columns (see available columns tableColumns()) list elements level order column arrange results. column order list used arranging result. style character string custom R code define visual formatting table. argument can provided two ways: Pre-defined Styles (Character String): Use name built-style (e.g., \"darwin\"). See tableStyle() available options. Custom Code (Advanced): Supply block custom R code. code must specific table type. See tableStyleCode() structural examples. showMinCellCount TRUE, suppressed estimates indicated \"<{min_cell_count}\", otherwise, default na defined .options used. .options named list additional formatting options. visOmopResults::tableOptions() shows allowed arguments default values.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/tableOptions.html","id":null,"dir":"Reference","previous_headings":"","what":"Additional table formatting options for visOmopTable() and visTable() — tableOptions","title":"Additional table formatting options for visOmopTable() and visTable() — tableOptions","text":"function provides list allowed inputs .option argument visOmopTable() visTable(), corresponding default values.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/tableOptions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Additional table formatting options for visOmopTable() and visTable() — tableOptions","text":"","code":"tableOptions()"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/tableOptions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Additional table formatting options for visOmopTable() and visTable() — tableOptions","text":"named list default options table customisation.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/tableOptions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Additional table formatting options for visOmopTable() and visTable() — tableOptions","text":"","code":"tableOptions() #> $decimals #>    integer percentage    numeric proportion  #>          0          2          2          2  #>  #> $decimalMark #> [1] \".\" #>  #> $bigMark #> [1] \",\" #>  #> $keepNotFormatted #> [1] TRUE #>  #> $useFormatOrder #> [1] TRUE #>  #> $delim #> [1] \"\\n\" #>  #> $includeHeaderName #> [1] TRUE #>  #> $includeHeaderKey #> [1] TRUE #>  #> $na #> [1] \"-\" #>  #> $title #> NULL #>  #> $subtitle #> NULL #>  #> $caption #> NULL #>  #> $groupAsColumn #> [1] FALSE #>  #> $groupOrder #> NULL #>  #> $merge #> [1] \"all_columns\" #>"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/tableStyle.html","id":null,"dir":"Reference","previous_headings":"","what":"Pre-defined styles are available for tables — tableStyle","title":"Pre-defined styles are available for tables — tableStyle","text":"function provides list pre-defined styles tables can used style argument table functions.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/tableStyle.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pre-defined styles are available for tables — tableStyle","text":"","code":"tableStyle()"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/tableStyle.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pre-defined styles are available for tables — tableStyle","text":"character vector indicating style names.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/tableStyle.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Pre-defined styles are available for tables — tableStyle","text":"","code":"tableStyle() #> [1] \"default\" \"darwin\""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/tableStyleCode.html","id":null,"dir":"Reference","previous_headings":"","what":"Supported predefined style codes for formatted tables — tableStyleCode","title":"Supported predefined style codes for formatted tables — tableStyleCode","text":"Supported predefined style codes formatted tables","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/tableStyleCode.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Supported predefined style codes for formatted tables — tableStyleCode","text":"","code":"tableStyleCode(type = \"gt\", style = \"default\")"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/tableStyleCode.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Supported predefined style codes for formatted tables — tableStyleCode","text":"type Character string specifying formatted table class. See tableType() supported classes. Default \"gt\". style Supported predefined styles. Check ones function tableStyle().","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/tableStyleCode.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Supported predefined style codes for formatted tables — tableStyleCode","text":"code expression style table specific pre-defined style table type.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/tableStyleCode.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Supported predefined style codes for formatted tables — tableStyleCode","text":"","code":"tableStyleCode(\"gt\") #> list(header = list(gt::cell_fill(color = \"#c8c8c8\"), gt::cell_text(weight = \"bold\",  #>     align = \"center\")), header_name = list(gt::cell_fill(color = \"#d9d9d9\"),  #>     gt::cell_text(weight = \"bold\", align = \"center\")), header_level = list(gt::cell_fill(color = \"#e1e1e1\"),  #>     gt::cell_text(weight = \"bold\", align = \"center\")), column_name = list(gt::cell_text(weight = \"bold\",  #>     align = \"center\")), group_label = list(gt::cell_fill(color = \"#e9e9e9\"),  #>     gt::cell_text(weight = \"bold\")), title = list(gt::cell_text(weight = \"bold\",  #>     size = 15, align = \"center\")), subtitle = list(gt::cell_text(weight = \"bold\",  #>     size = 12, align = \"center\")), body = list()) tableStyleCode(\"flextable\") #> list(header = list(cell = officer::fp_cell(background.color = \"#c8c8c8\"),  #>     text = officer::fp_text(bold = TRUE)), header_name = list(cell = officer::fp_cell(background.color = \"#d9d9d9\"),  #>     text = officer::fp_text(bold = TRUE)), header_level = list(cell = officer::fp_cell(background.color = \"#e1e1e1\"),  #>     text = officer::fp_text(bold = TRUE)), column_name = list(text = officer::fp_text(bold = TRUE),  #>     cell = officer::fp_cell(border = officer::fp_border(color = \"gray\"))),  #>     group_label = list(cell = officer::fp_cell(background.color = \"#e9e9e9\",  #>         border = officer::fp_border(color = \"gray\")), text = officer::fp_text(bold = TRUE)),  #>     title = list(text = officer::fp_text(bold = TRUE, font.size = 15),  #>         paragraph = officer::fp_par(text.align = \"center\"), cell = officer::fp_cell(border = officer::fp_border(color = \"gray\"))),  #>     subtitle = list(text = officer::fp_text(bold = TRUE, font.size = 12),  #>         paragraph = officer::fp_par(text.align = \"center\"), cell = officer::fp_cell(border = officer::fp_border(color = \"gray\"))),  #>     body = list(cell = officer::fp_cell(background.color = \"transparent\",  #>         border = officer::fp_border(color = \"gray\"))))"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/tableType.html","id":null,"dir":"Reference","previous_headings":"","what":"Supported table classes — tableType","title":"Supported table classes — tableType","text":"function returns supported table classes can used type argument visOmopTable(), visTable(), formatTable() functions.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/tableType.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Supported table classes — tableType","text":"","code":"tableType()"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/tableType.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Supported table classes — tableType","text":"character vector supported table types.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/tableType.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Supported table classes — tableType","text":"","code":"tableType() #> [1] \"gt\"        \"flextable\" \"tibble\"    \"datatable\" \"reactable\" \"tinytable\""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/themeVisOmop.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply a pre-defined visOmopResults theme to a ggplot — themeVisOmop","title":"Apply a pre-defined visOmopResults theme to a ggplot — themeVisOmop","text":"Apply pre-defined visOmopResults theme ggplot","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/themeVisOmop.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply a pre-defined visOmopResults theme to a ggplot — themeVisOmop","text":"","code":"themeVisOmop(style = \"default\", fontsizeRef = 11)"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/themeVisOmop.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply a pre-defined visOmopResults theme to a ggplot — themeVisOmop","text":"style Character indicating pre-defined style apply. Refer function plotStyle() see available styles. fontsizeRef integer use reference adjusting label fontsize.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/themeVisOmop.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Apply a pre-defined visOmopResults theme to a ggplot — themeVisOmop","text":"","code":"result <- mockSummarisedResult() |> dplyr::filter(variable_name == \"age\")  barPlot(   result = result,   x = \"cohort_name\",   y = \"mean\",   facet = c(\"age_group\", \"sex\"),   colour = \"sex\") +  themeVisOmop() #> Warning: Ignoring empty aesthetic: `width`."},{"path":"https://darwin-eu.github.io/visOmopResults/reference/visOmopResults-package.html","id":null,"dir":"Reference","previous_headings":"","what":"visOmopResults: Graphs and Tables for OMOP Results — visOmopResults-package","title":"visOmopResults: Graphs and Tables for OMOP Results — visOmopResults-package","text":"Provides methods transform omop_result objects formatted tables figures, facilitating visualisation study results working Observational Medical Outcomes Partnership (OMOP) Common Data Model.","code":""},{"path":[]},{"path":"https://darwin-eu.github.io/visOmopResults/reference/visOmopResults-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"visOmopResults: Graphs and Tables for OMOP Results — visOmopResults-package","text":"Maintainer: Núria Mercadé-Besora nuria.mercadebesora@ndorms.ox.ac.uk (ORCID) Authors: Martí Català marti.catalasabate@ndorms.ox.ac.uk (ORCID) contributors: Yuchen Guo yuchen.guo@ndorms.ox.ac.uk (ORCID) [contributor] Elin Rowlands elin.rowlands@ndorms.ox.ac.uk (ORCID) [contributor] Marta Alcalde-Herraiz marta.alcaldeherraiz@ndorms.ox.ac.uk (ORCID) [contributor] Edward Burn edward.burn@ndorms.ox.ac.uk (ORCID) [contributor]","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/visOmopTable.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate a formatted table from a <summarised_result> — visOmopTable","title":"Generate a formatted table from a <summarised_result> — visOmopTable","text":"function combines functionalities formatEstimateValue(), estimateName(), formatHeader(), formatTable() single function specifically <summarised_result> objects.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/visOmopTable.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate a formatted table from a <summarised_result> — visOmopTable","text":"","code":"visOmopTable(   result,   estimateName = character(),   header = character(),   settingsColumn = character(),   groupColumn = character(),   rename = character(),   type = \"gt\",   hide = character(),   columnOrder = character(),   factor = list(),   style = \"default\",   showMinCellCount = TRUE,   .options = list() )"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/visOmopTable.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate a formatted table from a <summarised_result> — visOmopTable","text":"result <summarised_result> object. estimateName named list estimate names join, sorted computation order. Use <...> indicate estimate names. header vector specifying elements include header. order elements matters, first topmost header. Elements header can : columns returned tableColumns(result) create header columns. input create overall header. settingsColumn character vector names settings include table. see options use settingsColumns(result). groupColumn Columns use group labels, see options use tableColumns(result). default, name new group tidy* column names separated \";\". specify custom group name, use named list : list(\"newGroupName\" = c(\"variable_name\", \"variable_level\")). *tidy: tidy format applied column names replaces \"_\" space converts sentence case. Use rename customise specific column names. rename named vector customise column names, e.g., c(\"Database name\" = \"cdm_name\"). function renames column names specified tidy* format. type desired format output table. See tableType() allowed options. hide Columns drop output table. default, result_id estimate_type always dropped. columnOrder Character vector establishing position columns formatted table. Columns either header, groupColumn, hide ignored. factor named list names refer columns (see available columns tableColumns()) list elements level order column arrange results. column order list used arranging result. style character string custom R code define visual formatting table. argument can provided two ways: Pre-defined Styles (Character String): Use name built-style (e.g., \"darwin\"). See tableStyle() available options. Custom Code (Advanced): Supply block custom R code. code must specific table type. See tableStyleCode() structural examples. showMinCellCount TRUE, suppressed estimates indicated \"<{min_cell_count}\", otherwise, default na defined .options used. .options named list additional formatting options. visOmopResults::tableOptions() shows allowed arguments default values.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/visOmopTable.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate a formatted table from a <summarised_result> — visOmopTable","text":"formatted table class selected \"type\" argument.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/visOmopTable.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate a formatted table from a <summarised_result> — visOmopTable","text":"","code":"result <- mockSummarisedResult() result |>   visOmopTable(     estimateName = c(\"N%\" = \"<count> (<percentage>)\",                      \"N\" = \"<count>\",                      \"Mean (SD)\" = \"<mean> (<sd>)\"),     header = c(\"cohort_name\"),     rename = c(\"Database name\" = \"cdm_name\"),     groupColumn = strataColumns(result)   )     Database name       Variable name       Variable level       Estimate name                Cohort name            cohort1       cohort2     overall; overall     mock number subjects - N 2,655,087 617,863 age - Mean (SD) 38.00 (7.94) 38.24 (7.89) Medications Amoxiciline N% 7,068 (34.67) 33,239 (71.25)  Ibuprofen N% 23,963 (92.41) 60,493 (10.32)<40; Male     mock number subjects - N 3,721,239 2,059,746 age - Mean (SD) 77.74 (1.08) 86.97 (0.23) Medications Amoxiciline N% 9,947 (33.38) 65,087 (40.00)  Ibuprofen N% 5,893 (59.88) 65,472 (44.63)>=40; Male     mock number subjects - N 5,728,534 1,765,568 age - Mean (SD) 93.47 (7.24) 34.03 (4.77) Medications Amoxiciline N% 31,627 (47.64) 25,802 (32.54)  Ibuprofen N% 64,229 (97.62) 35,320 (64.01)<40; Female     mock number subjects - N 9,082,078 6,870,228 age - Mean (SD) 21.21 (4.11) 48.21 (7.32) Medications Amoxiciline N% 51,863 (89.22) 47,855 (75.71)  Ibuprofen N% 87,627 (73.18) 27,026 (99.18)>=40; Female     mock number subjects - N 2,016,819 3,841,037 age - Mean (SD) 65.17 (8.21) 59.96 (6.93) Medications Amoxiciline N% 66,201 (86.43) 76,631 (20.27)  Ibuprofen N% 77,891 (35.67) 99,268 (49.56)overall; Male     mock number subjects - N 8,983,897 7,698,414 age - Mean (SD) 12.56 (6.47) 49.35 (4.78) Medications Amoxiciline N% 40,683 (39.00) 8,425 (71.11)  Ibuprofen N% 79,731 (43.15) 63,349 (48.43)overall; Female     mock number subjects - N 9,446,753 4,976,992 age - Mean (SD) 26.72 (7.83) 18.62 (8.61) Medications Amoxiciline N% 91,288 (77.73) 87,532 (12.17)  Ibuprofen N% 45,527 (14.82) 21,321 (17.34)<40; overall     mock number subjects - N 6,607,978 7,176,185 age - Mean (SD) 38.61 (5.53) 82.74 (4.38) Medications Amoxiciline N% 29,360 (96.06) 33,907 (24.55)  Ibuprofen N% 41,008 (1.31) 12,937 (75.48)>=40; overall     mock number subjects - N 6,291,140 9,919,061 age - Mean (SD) 1.34 (5.30) 66.85 (2.45) Medications Amoxiciline N% 45,907 (43.47) 83,944 (14.33)  Ibuprofen N% 81,087 (71.56) 47,812 (45.39)result |>   visOmopTable(     estimateName = c(       \"N%\" = \"<count> (<percentage>)\",       \"N\" = \"<count>\",       \"Mean (SD)\" = \"<mean> (<sd>)\"     ),     header = c(\"cohort_name\"),     rename = c(\"Database name\" = \"cdm_name\"),     groupColumn = strataColumns(result),     type = \"reactable\"   )  {\"x\":{\"tag\":{\"name\":\"Reactable\",\"attribs\":{\"data\":{\"Age group; Sex\":[\"overall; overall\",\"<40; Male\",\">=40; Male\",\"<40; Female\",\">=40; Female\",\"overall; Male\",\"overall; Female\",\"<40; overall\",\">=40; overall\",\"overall; overall\",\"<40; Male\",\">=40; Male\",\"<40; Female\",\">=40; Female\",\"overall; Male\",\"overall; Female\",\"<40; overall\",\">=40; overall\",\"overall; overall\",\"<40; Male\",\">=40; Male\",\"<40; Female\",\">=40; Female\",\"overall; Male\",\"overall; Female\",\"<40; overall\",\">=40; overall\",\"overall; overall\",\"<40; Male\",\">=40; Male\",\"<40; Female\",\">=40; Female\",\"overall; Male\",\"overall; Female\",\"<40; overall\",\">=40; overall\"],\"Database name\":[\"mock\",\"mock\",\"mock\",\"mock\",\"mock\",\"mock\",\"mock\",\"mock\",\"mock\",\"mock\",\"mock\",\"mock\",\"mock\",\"mock\",\"mock\",\"mock\",\"mock\",\"mock\",\"mock\",\"mock\",\"mock\",\"mock\",\"mock\",\"mock\",\"mock\",\"mock\",\"mock\",\"mock\",\"mock\",\"mock\",\"mock\",\"mock\",\"mock\",\"mock\",\"mock\",\"mock\"],\"Variable name\":[\"number subjects\",\"number subjects\",\"number subjects\",\"number subjects\",\"number subjects\",\"number subjects\",\"number subjects\",\"number subjects\",\"number subjects\",\"age\",\"age\",\"age\",\"age\",\"age\",\"age\",\"age\",\"age\",\"age\",\"Medications\",\"Medications\",\"Medications\",\"Medications\",\"Medications\",\"Medications\",\"Medications\",\"Medications\",\"Medications\",\"Medications\",\"Medications\",\"Medications\",\"Medications\",\"Medications\",\"Medications\",\"Medications\",\"Medications\",\"Medications\"],\"Variable level\":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,\"Amoxiciline\",\"Amoxiciline\",\"Amoxiciline\",\"Amoxiciline\",\"Amoxiciline\",\"Amoxiciline\",\"Amoxiciline\",\"Amoxiciline\",\"Amoxiciline\",\"Ibuprofen\",\"Ibuprofen\",\"Ibuprofen\",\"Ibuprofen\",\"Ibuprofen\",\"Ibuprofen\",\"Ibuprofen\",\"Ibuprofen\",\"Ibuprofen\"],\"Estimate name\":[\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"N\",\"Mean (SD)\",\"Mean (SD)\",\"Mean (SD)\",\"Mean (SD)\",\"Mean (SD)\",\"Mean (SD)\",\"Mean (SD)\",\"Mean (SD)\",\"Mean (SD)\",\"N%\",\"N%\",\"N%\",\"N%\",\"N%\",\"N%\",\"N%\",\"N%\",\"N%\",\"N%\",\"N%\",\"N%\",\"N%\",\"N%\",\"N%\",\"N%\",\"N%\",\"N%\"],\"cohort1\":[\"2,655,087\",\"3,721,239\",\"5,728,534\",\"9,082,078\",\"2,016,819\",\"8,983,897\",\"9,446,753\",\"6,607,978\",\"6,291,140\",\"38.00 (7.94)\",\"77.74 (1.08)\",\"93.47 (7.24)\",\"21.21 (4.11)\",\"65.17 (8.21)\",\"12.56 (6.47)\",\"26.72 (7.83)\",\"38.61 (5.53)\",\"1.34 (5.30)\",\"7,068 (34.67)\",\"9,947 (33.38)\",\"31,627 (47.64)\",\"51,863 (89.22)\",\"66,201 (86.43)\",\"40,683 (39.00)\",\"91,288 (77.73)\",\"29,360 (96.06)\",\"45,907 (43.47)\",\"23,963 (92.41)\",\"5,893 (59.88)\",\"64,229 (97.62)\",\"87,627 (73.18)\",\"77,891 (35.67)\",\"79,731 (43.15)\",\"45,527 (14.82)\",\"41,008 (1.31)\",\"81,087 (71.56)\"],\"cohort2\":[\"617,863\",\"2,059,746\",\"1,765,568\",\"6,870,228\",\"3,841,037\",\"7,698,414\",\"4,976,992\",\"7,176,185\",\"9,919,061\",\"38.24 (7.89)\",\"86.97 (0.23)\",\"34.03 (4.77)\",\"48.21 (7.32)\",\"59.96 (6.93)\",\"49.35 (4.78)\",\"18.62 (8.61)\",\"82.74 (4.38)\",\"66.85 (2.45)\",\"33,239 (71.25)\",\"65,087 (40.00)\",\"25,802 (32.54)\",\"47,855 (75.71)\",\"76,631 (20.27)\",\"8,425 (71.11)\",\"87,532 (12.17)\",\"33,907 (24.55)\",\"83,944 (14.33)\",\"60,493 (10.32)\",\"65,472 (44.63)\",\"35,320 (64.01)\",\"27,026 (99.18)\",\"99,268 (49.56)\",\"63,349 (48.43)\",\"21,321 (17.34)\",\"12,937 (75.48)\",\"47,812 (45.39)\"]},\"columns\":[{\"id\":\"Age group; Sex\",\"name\":\"Age group; Sex\",\"type\":\"character\",\"sortable\":true,\"resizable\":true,\"filterable\":true,\"headerStyle\":{\"textAlign\":\"center\"}},{\"id\":\"Database name\",\"name\":\"Database name\",\"type\":\"character\",\"sortable\":true,\"resizable\":true,\"filterable\":true,\"headerStyle\":{\"textAlign\":\"center\"}},{\"id\":\"Variable name\",\"name\":\"Variable name\",\"type\":\"character\",\"sortable\":true,\"resizable\":true,\"filterable\":true,\"headerStyle\":{\"textAlign\":\"center\"}},{\"id\":\"Variable level\",\"name\":\"Variable level\",\"type\":\"character\",\"sortable\":true,\"resizable\":true,\"filterable\":true,\"headerStyle\":{\"textAlign\":\"center\"}},{\"id\":\"Estimate name\",\"name\":\"Estimate name\",\"type\":\"character\",\"sortable\":true,\"resizable\":true,\"filterable\":true,\"headerStyle\":{\"textAlign\":\"center\"}},{\"id\":\"cohort1\",\"name\":\"cohort1\",\"type\":\"character\",\"sortable\":true,\"resizable\":true,\"filterable\":true,\"headerStyle\":{\"textAlign\":\"center\"}},{\"id\":\"cohort2\",\"name\":\"cohort2\",\"type\":\"character\",\"sortable\":true,\"resizable\":true,\"filterable\":true,\"headerStyle\":{\"textAlign\":\"center\"}}],\"columnGroups\":[{\"headerStyle\":{\"textAlign\":\"center\"},\"name\":\"Cohort name\",\"columns\":[\"cohort1\",\"cohort2\"]}],\"groupBy\":[\"Age group; Sex\"],\"searchable\":true,\"defaultPageSize\":10,\"showPageSizeOptions\":true,\"defaultExpanded\":true,\"highlight\":true,\"striped\":true,\"dataKey\":\"c20cc8bd8f10d32ea10e0a3cb55f46e7\"},\"children\":[]},\"class\":\"reactR_markup\"},\"evals\":[],\"jsHooks\":[]}"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/visTable.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate a formatted table from a <data.table> — visTable","title":"Generate a formatted table from a <data.table> — visTable","text":"function combines functionalities formatEstimateValue(), formatEstimateName(), formatHeader(), formatTable() single function. require input table <summarised_result>, expect specific fields apply formatting functionalities.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/visTable.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate a formatted table from a <data.table> — visTable","text":"","code":"visTable(   result,   estimateName = character(),   header = character(),   groupColumn = character(),   rename = character(),   type = \"gt\",   hide = character(),   style = \"default\",   .options = list() )"},{"path":"https://darwin-eu.github.io/visOmopResults/reference/visTable.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate a formatted table from a <data.table> — visTable","text":"result table format. estimateName named list estimate names join, sorted computation order. Use <...> indicate estimate names. header vector specifying elements include header. order elements matters, first topmost header. vector elements can column names labels overall headers. table must contain estimate_value column pivot headers. groupColumn Columns use group labels, see options use tableColumns(result). default, name new group tidy* column names separated \";\". specify custom group name, use named list : list(\"newGroupName\" = c(\"variable_name\", \"variable_level\")). *tidy: tidy format applied column names replaces \"_\" space converts sentence case. Use rename customise specific column names. rename named vector customise column names, e.g., c(\"Database name\" = \"cdm_name\"). function renames column names specified tidy* format. type desired format output table. See tableType() allowed options. hide Columns drop output table. style character string custom R code define visual formatting table. argument can provided two ways: Pre-defined Styles (Character String): Use name built-style (e.g., \"darwin\"). See tableStyle() available options. Custom Code (Advanced): Supply block custom R code. code must specific table type. See tableStyleCode() structural examples. .options named list additional formatting options. visOmopResults::tableOptions() shows allowed arguments default values.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/visTable.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate a formatted table from a <data.table> — visTable","text":"formatted table class selected \"type\" argument.","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/reference/visTable.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate a formatted table from a <data.table> — visTable","text":"","code":"result <- mockSummarisedResult() result |>   visTable(     estimateName = c(\"N%\" = \"<count> (<percentage>)\",                      \"N\" = \"<count>\",                      \"Mean (SD)\" = \"<mean> (<sd>)\"),     header = c(\"Estimate\"),     rename = c(\"Database name\" = \"cdm_name\"),     groupColumn = c(\"strata_name\", \"strata_level\"),     hide = c(\"additional_name\", \"additional_level\", \"estimate_type\", \"result_type\")   )     Result id       Database name       Group name       Group level       Variable name       Variable level       Estimate name       Estimate     overall; overall     1 mock cohort_name cohort1 number subjects - N 2,655,087   cohort2 number subjects - N 617,863   cohort1 age - Mean (SD) 38.00 (7.94)   cohort2 age - Mean (SD) 38.24 (7.89)   cohort1 Medications Amoxiciline N% 7,068 (34.67)   cohort2 Medications Amoxiciline N% 33,239 (71.25)   cohort1 Medications Ibuprofen N% 23,963 (92.41)   cohort2 Medications Ibuprofen N% 60,493 (10.32)age_group &&& sex; <40 &&& Male     1 mock cohort_name cohort1 number subjects - N 3,721,239   cohort2 number subjects - N 2,059,746   cohort1 age - Mean (SD) 77.74 (1.08)   cohort2 age - Mean (SD) 86.97 (0.23)   cohort1 Medications Amoxiciline N% 9,947 (33.38)   cohort2 Medications Amoxiciline N% 65,087 (40.00)   cohort1 Medications Ibuprofen N% 5,893 (59.88)   cohort2 Medications Ibuprofen N% 65,472 (44.63)age_group &&& sex; >=40 &&& Male     1 mock cohort_name cohort1 number subjects - N 5,728,534   cohort2 number subjects - N 1,765,568   cohort1 age - Mean (SD) 93.47 (7.24)   cohort2 age - Mean (SD) 34.03 (4.77)   cohort1 Medications Amoxiciline N% 31,627 (47.64)   cohort2 Medications Amoxiciline N% 25,802 (32.54)   cohort1 Medications Ibuprofen N% 64,229 (97.62)   cohort2 Medications Ibuprofen N% 35,320 (64.01)age_group &&& sex; <40 &&& Female     1 mock cohort_name cohort1 number subjects - N 9,082,078   cohort2 number subjects - N 6,870,228   cohort1 age - Mean (SD) 21.21 (4.11)   cohort2 age - Mean (SD) 48.21 (7.32)   cohort1 Medications Amoxiciline N% 51,863 (89.22)   cohort2 Medications Amoxiciline N% 47,855 (75.71)   cohort1 Medications Ibuprofen N% 87,627 (73.18)   cohort2 Medications Ibuprofen N% 27,026 (99.18)age_group &&& sex; >=40 &&& Female     1 mock cohort_name cohort1 number subjects - N 2,016,819   cohort2 number subjects - N 3,841,037   cohort1 age - Mean (SD) 65.17 (8.21)   cohort2 age - Mean (SD) 59.96 (6.93)   cohort1 Medications Amoxiciline N% 66,201 (86.43)   cohort2 Medications Amoxiciline N% 76,631 (20.27)   cohort1 Medications Ibuprofen N% 77,891 (35.67)   cohort2 Medications Ibuprofen N% 99,268 (49.56)sex; Male     1 mock cohort_name cohort1 number subjects - N 8,983,897   cohort2 number subjects - N 7,698,414   cohort1 age - Mean (SD) 12.56 (6.47)   cohort2 age - Mean (SD) 49.35 (4.78)   cohort1 Medications Amoxiciline N% 40,683 (39.00)   cohort2 Medications Amoxiciline N% 8,425 (71.11)   cohort1 Medications Ibuprofen N% 79,731 (43.15)   cohort2 Medications Ibuprofen N% 63,349 (48.43)sex; Female     1 mock cohort_name cohort1 number subjects - N 9,446,753   cohort2 number subjects - N 4,976,992   cohort1 age - Mean (SD) 26.72 (7.83)   cohort2 age - Mean (SD) 18.62 (8.61)   cohort1 Medications Amoxiciline N% 91,288 (77.73)   cohort2 Medications Amoxiciline N% 87,532 (12.17)   cohort1 Medications Ibuprofen N% 45,527 (14.82)   cohort2 Medications Ibuprofen N% 21,321 (17.34)age_group; <40     1 mock cohort_name cohort1 number subjects - N 6,607,978   cohort2 number subjects - N 7,176,185   cohort1 age - Mean (SD) 38.61 (5.53)   cohort2 age - Mean (SD) 82.74 (4.38)   cohort1 Medications Amoxiciline N% 29,360 (96.06)   cohort2 Medications Amoxiciline N% 33,907 (24.55)   cohort1 Medications Ibuprofen N% 41,008 (1.31)   cohort2 Medications Ibuprofen N% 12,937 (75.48)age_group; >=40     1 mock cohort_name cohort1 number subjects - N 6,291,140   cohort2 number subjects - N 9,919,061   cohort1 age - Mean (SD) 1.34 (5.30)   cohort2 age - Mean (SD) 66.85 (2.45)   cohort1 Medications Amoxiciline N% 45,907 (43.47)   cohort2 Medications Amoxiciline N% 83,944 (14.33)   cohort1 Medications Ibuprofen N% 81,087 (71.56)   cohort2 Medications Ibuprofen N% 47,812 (45.39)"},{"path":"https://darwin-eu.github.io/visOmopResults/news/index.html","id":"visomopresults-130","dir":"Changelog","previous_headings":"","what":"visOmopResults 1.3.0","title":"visOmopResults 1.3.0","text":"CRAN release: 2025-10-05 Support plotly plots Function tableStyle() renamed tableStyleCode() Added functions get allowed pre-defined package styles: tableStyle() plotStyle() Added function get allowed plot types: plotType() Modified “darwin” style aligned style defined DARWIN-EU® Added vignettes use package Quarto reports Shiny Apps Support stack bar plots barPlot()","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/news/index.html","id":"visomopresults-120","dir":"Changelog","previous_headings":"","what":"visOmopResults 1.2.0","title":"visOmopResults 1.2.0","text":"CRAN release: 2025-09-02 Support tinytable Add argument style plots Add function setGlobalPlotOptions() set global arguments plots Add function setGlobalTableOptions() set global arguments tables Union borders merged cells flextable","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/news/index.html","id":"visomopresults-111","dir":"Changelog","previous_headings":"","what":"visOmopResults 1.1.1","title":"visOmopResults 1.1.1","text":"CRAN release: 2025-06-19 Fix table types required installed even used columnOrder non-table columns passed, throw warning instead error columnOrder missing table columns adds end instead throwing error","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/news/index.html","id":"visomopresults-110","dir":"Changelog","previous_headings":"","what":"visOmopResults 1.1.0","title":"visOmopResults 1.1.0","text":"CRAN release: 2025-05-21 Support reactable Add darwin style","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/news/index.html","id":"visomopresults-102","dir":"Changelog","previous_headings":"","what":"visOmopResults 1.0.2","title":"visOmopResults 1.0.2","text":"CRAN release: 2025-03-06 Header pivotting - warning addition needed columns get unique estimates cells Fixed headers datatable Show min cell counts counts, set estimates NA","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/news/index.html","id":"visomopresults-101","dir":"Changelog","previous_headings":"","what":"visOmopResults 1.0.1","title":"visOmopResults 1.0.1","text":"CRAN release: 2025-02-27 Obscure percentage less five counts formatMinCellCount function","code":""},{"path":"https://darwin-eu.github.io/visOmopResults/news/index.html","id":"visomopresults-100","dir":"Changelog","previous_headings":"","what":"visOmopResults 1.0.0","title":"visOmopResults 1.0.0","text":"CRAN release: 2025-01-15 Stable release package Added NEWS.md file track changes package.","code":""}]
